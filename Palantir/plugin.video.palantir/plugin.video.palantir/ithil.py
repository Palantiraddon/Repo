import base64;exec base64.b64decode('IyAtKi0gY29kaW5nOiB1dGYtOCAtKi0KaW1wb3J0IHN5cwppbXBvcnQgcmUKaW1wb3J0IG9zCmltcG9ydCB4Ym1jZ3VpCmltcG9ydCB4Ym1jCmltcG9ydCBIVE1MUGFyc2VyCmltcG9ydCB4Ym1jcGx1Z2luCmltcG9ydCB4Ym1jYWRkb24KaW1wb3J0IHVybGxpYgppbXBvcnQgdXJsbGliMgppbXBvcnQgc3FsaXRlMwppbXBvcnQgYmFzZTY0CmltcG9ydCB6bGliCmZyb20gdXJsbGliMiBpbXBvcnQgSFRUUEVycm9yCmZyb20gdXJsbGliMiBpbXBvcnQgVVJMRXJyb3IKaW1wb3J0IHRyYWNlYmFjawppbXBvcnQgdW5pY29kZWRhdGEKaW1wb3J0IHJlcXVlc3RzCmltcG9ydCByYW5kb20KZnJvbSByZXF1ZXN0cyAuIHBhY2thZ2VzIC4gdXJsbGliMyAuIGV4Y2VwdGlvbnMgaW1wb3J0IEluc2VjdXJlUmVxdWVzdFdhcm5pbmcKcmVxdWVzdHMgLiBwYWNrYWdlcyAuIHVybGxpYjMgLiBkaXNhYmxlX3dhcm5pbmdzICggSW5zZWN1cmVSZXF1ZXN0V2FybmluZyApCmlmIDk3IC0gOTc6IE9Pb09vTzBvMG8wT08gKyBJSUlJIC4gSWkgJSBvT08KX19zZXR0aW5nc19fID0geGJtY2FkZG9uIC4gQWRkb24gKCBpZCA9ICJwbHVnaW4udmlkZW8ucGFsYW50aXIiICkKaWYgMSAtIDE6IElJIC0gaWlJSWkxaTFJaWkgLSBJMSAtIElJb29vTzBvb08wb28gKiBPT08KaWYgNSAtIDU6IGkxaUkxICsgbzAwb08wb28wTzBPMCAtIGlpMUkxaWkxSWlJaTEgJSBvb29Pb08gLSBJaUlJMUlpSQppZiA4NSAtIDg1OiBvbwppZiA3MCAtIDcwOiBpSWkxMSArIElpMUkgLyBJMUlpSTFJSUkxMWkgKyBvb09vb08wT09PICUgSWlJSTFpMUkgLyBpSWkxMQpkZWYgb28wbyAoIHRleHQgKSA6CiBPT08wTzAwTzAgPSAnN1NlMTBnQUllLVQwX2EnCiBpZiAxNyAtIDE3OiBJSW9vb08wb29PMG9vCiBPT08wTzAwTzAgPSBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdOMU5sTVRCblFVbGxMVlF3WDJFPScgKQogdHJ5IDoKICBvMG9vbyA9IGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggc3RyICggdGV4dCApICkKICBJSTExMTFJMSA9IFsgXQogIGZvciBPMDBPb28wbzBPTyBpbiB4cmFuZ2UgKCBsZW4gKCBvMG9vbyApICkgOgogICBJMWlJMWlpaUlpSTEgPSBPT08wTzAwTzAgWyBPMDBPb28wbzBPTyAlIGxlbiAoIE9PTzBPMDBPMCApIF0KICAgT08wTzAgPSBjaHIgKCBvcmQgKCBvMG9vbyBbIE8wME9vbzBvME9PIF0gKSAtIG9yZCAoIEkxaUkxaWlpSWlJMSApICUgMjU2ICkKICAgSUkxMTExSTEgLiBhcHBlbmQgKCBPTzBPMCApCiAgaWkxaTFpaTFJID0gJycgLiBqb2luICggSUkxMTExSTEgKQogIHJldHVybiBpaTFpMWlpMUkKIGV4Y2VwdCBUeXBlRXJyb3IgLCBvMG8wMDAwTzAgOgogIHJldHVybiB0ZXh0CiAgaWYgNzAgLSA3MDogaTFpSTEgJSBJaTFJCiAgaWYgNjQgLSA2NDogb28gLiBPT29Pb08wbzBvME9PIC4gT09PIC0gaWkxSTFpaTFJaUlpMSAuIG9vb09vTyAqIElpCiAgaWYgNjMgLSA2MzogT09vT29PMG8wbzBPTyAuIGlpSUlpMWkxSWlpIC8gSUlvb29PMG9vTzBvbyAuIElpIC8gSUlvb29PMG9vTzBvbyAlIGlpMUkxaWkxSWlJaTEKICBpZiAzIC0gMzogaUlpMTEgJSBvb09vb08wT09PICogSWlJSTFpMUkgLyBPT08gKiBJaUlJMWkxSQogIGlmIDUxIC0gNTE6IGlpSUlpMWkxSWlpIC4gSWlJSTFpMUkgJSBPT29Pb08wbzBvME9PCiAgaWYgMzEgLSAzMTogaTFpSTEgLyBpMWlJMSAlIElJICogSWlJSTFpMUkgLSBJSQpkZWYgT09vMDAwMG9PICggKSA6CiByZXR1cm4gJ2VKekxLQ2twc05MWEw4LXNTaXhLU1U0c3lVX00wVXN0cmdSaV9ZREVuTVM4a3N3aUFPMi1EVTA9JwogaWYgNDggLSA0ODogaWlJSWkxaTFJaWkgJSBPT08KIGlmIDUyIC0gNTI6IElJCmRlZiBJMTExSTExSTExMTExICggYmFzICkgOgogSUlJaWkxSWkgPSBzcWxpdGUzIC4gY29ubmVjdCAoIGJhcyApCiBPTzBvID0gSUlJaWkxSWkgLiBjdXJzb3IgKCApCiBJMTFpSWlJSWkgPSAnJwogaWYgMjggLSAyODogSUlJSQogdHJ5IDoKICBpZiA1NiAtIDU2OiBpaUlJaTFpMUlpaSArIElJSUkgLiBJaUlJMWkxSSAtIG9vT29vTzBPT08gKyBvbyAvIElpSUkxSWlJCiAgT08wbyAuIGV4ZWN1dGUgKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdVMlZzWldOMElHeHZZeUJtY205dElIWmxjbk5wYjI0PScgKSApCiAgb08gPSBPTzBvIC4gZmV0Y2hvbmUgKCApCiAgSTExaUlpSUlpID0gb08gWyAwIF0KICBJSUlpaTFJaSAuIGNsb3NlICggKQogZXhjZXB0IDoKICB0cnkgOgogICBJSUlpaTFJaSAuIGNsb3NlICggKQogIGV4Y2VwdCA6CiAgIHBhc3MKICAgaWYgNDAgLSA0MDogaWkxSTFpaTFJaUlpMSAqIG9vIC8gSTEKICB0cnkgOgogICBvcyAuIHJlbW92ZSAoIGJhcyApCiAgZXhjZXB0IDoKICAgcGFzcwogcmV0dXJuIHN0ciAoIEkxMWlJaUlJaSAuIHN0cmlwICggKSApCiBpZiAyOCAtIDI4OiBpSWkxMSAtIG8wMG9PMG9vME8wTzAgLyBvb09vb08wT09PICsgSWlJSTFpMUkgLyBJaQogaWYgNDEgLSA0MTogaTFpSTEgLSBPT08gJSBJMUlpSTFJSUkxMWkgLSBJSW9vb08wb29PMG9vICsgSTFJaUkxSUlJMTFpCmRlZiBJMWlpSTFJICggdXJsICwgcG9zdCA9IE5vbmUgKSA6CiBpZiAxMiAtIDEyOiBpaTFJMWlpMUlpSWkxCiBvT09PMDBPb09vID0geyAnVXNlci1BZ2VudCcgOiAnTW96aWxsYS81LjAgKFdpbmRvd3M7IFU7IFdpbmRvd3MgTlQgNS4xOyBlbi1HQjsgcnY6MS44LjEuMTQpIEdlY2tvLzIwMDgwNDA0IEZpcmVmb3gvMi4wLjAuMTQnIH0KIElpaTExSWlJMTFpID0gdXJsbGliMiAuIHVybG9wZW4KIG9vME8wID0gdXJsbGliMiAuIFJlcXVlc3QKIElpMTEgPSBvbzBPMCAoIHVybCAsIHBvc3QgLCBvT09PMDBPb09vICkKIEkxMUlpaTExaTFJaTEgPSBJaWkxMUlpSTExaSAoIElpMTEgKQogaWlJSSA9IEkxMUlpaTExaTFJaTEgLiByZWFkICggKQogcmV0dXJuIGlpSUkKIGlmIDUxIC0gNTE6IElJSUkgLyBpaUlJaTFpMUlpaQogaWYgNTYgLSA1NjogaTFpSTEKZGVmIGkxSTFJSUlJSSAoIGJkICwgaWQgLCB2YWwgLCB0eXBlICkgOgogdHJ5IDoKICBJMTFpSWlJSWkgPSB6bGliIC4gZGVjb21wcmVzcyAoIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggSTExMUkxMUkxMTExMSAoIGJkICkgKSApCiAgaWYgOTIgLSA5MjogSTEgLSBJMUlpSTFJSUkxMWkgLyBvbyAuIE9Pb09vTzBvMG8wT08gLyBJSSAtIG9PTwogIG9vTzAwMG9PbzAwID0gKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdKWE12UW1GelpVUmhkRzl6TDNGMVlXeHBkSGt1Y0dod1AzUjVjR1U5SlhOcFpEMGxjeVoyWVd3OUpYTT0nICkgKSAlICgKIEkxMWlJaUlJaSAsIHR5cGUgLCBpZCAsIHN0ciAoIHZhbCApICkKICBJMWlpSTFJICggb29PMDAwb09vMDAgKQogIG9PMDBvb09vT09vMG8gPSBpZCAuIHNwbGl0ICggJy0nICkKICBpZiA5IC0gOTogaWlJSWkxaTFJaWkgJSBPT08gKiBvT08gKyBpaUlJaTFpMUlpaSAuIElpSUkxSWlJCiAgSUlJaWkxSWkgPSBzcWxpdGUzIC4gY29ubmVjdCAoIGJkICkKICBPTzBvID0gSUlJaWkxSWkgLiBjdXJzb3IgKCApCiAgaWYgdHlwZSA9PSAnc2VyaWVzJyA6CiAgIGlmIG9PMDBvb09vT09vMG8gWyAyIF0gOgogICAgaWYgMTAwIC0gMTAwOiBvT08gLiBvbyAvIElpICogSUlJSQogICAgT08wbyAuIGV4ZWN1dGUgKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoCiAnVlZCRVFWUkZJR05oY0dsMGRXeHZjeUJUUlZRZ2NYVmhiR2wwZVQwX0lGZElSVkpGSUhObGNtbGxYMmxrSUQwZ1B5QkJUa1FnZEdWdGNGOXBaQ0E5SUQ4Z1FVNUVJR05oY0dsMGRXeHZYMmxrSUQwZ1B3PT0nICkgLAogKCBzdHIgKCB2YWwgKSAsIGludCAoIG9PMDBvb09vT09vMG8gWyAwIF0gKSAsIGludCAoIG9PMDBvb09vT09vMG8gWyAxIF0gKSAsIG9PMDBvb09vT09vMG8gWyAyIF0gLCApICkKICAgZWxpZiBvTzAwb29Pb09PbzBvIFsgMSBdIDoKICAgIGlmIDEzIC0gMTM6IG9PTyArIG9PTyArIElJSUkgLiBJSSAtIElJb29vTzBvb08wb28gKiBvb09vb08wT09PCiAgICBPTzBvIC4gZXhlY3V0ZSAoIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ1ZWQkVRVlJGSUhObGNtbGxjMTkwWlcxd0lGTkZWQ0J4ZFdGc2FYUjVQVDhnVjBoRlVrVWdjMlZ5YVdWZmFXUWdQU0FfSUVGT1JDQjBaVzF3WDJsa0lEMGdQdz09JyApICwKICggc3RyICggdmFsICkgLCBpbnQgKCBvTzAwb29Pb09PbzBvIFsgMCBdICkgLCBpbnQgKCBvTzAwb29Pb09PbzBvIFsgMSBdICkgLCApICkKICAgZWxpZiBvTzAwb29Pb09PbzBvIFsgMCBdIDoKICAgIGlmIDM1IC0gMzU6IG9PTwogICAgT08wbyAuIGV4ZWN1dGUgKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdWVkJFUVZSRklITmxjbWxsY3lCVFJWUWdjWFZoYkdsMGVUMF9JRmRJUlZKRklITmxjbWxsWDJsa0lEMGdQdz09JyApICwKICggc3RyICggdmFsICkgLCBpbnQgKCBvTzAwb29Pb09PbzBvIFsgMCBdICkgLCApICkKICBlbHNlIDoKICAgaWYgOTIgLSA5MjogaTFpSTEKICAgT08wbyAuIGV4ZWN1dGUgKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdWVkJFUVZSRklIQmxiR2x6SUZORlZDQnhkV0ZzYVhSNVBUOGdWMGhGVWtVZ2NHVnNhVjlwWkNBOUlEOD0nICkgLAogKCBzdHIgKCB2YWwgKSAsIGludCAoIG9PMDBvb09vT09vMG8gWyAwIF0gKSAsICkgKQogIElJSWlpMUlpIC4gY29tbWl0ICggKQogIElJSWlpMUlpIC4gY2xvc2UgKCApCiBleGNlcHQgRXhjZXB0aW9uIGFzIG8wbzAwMDBPMCA6CiAgcGFzcwogIGlmIDg3IC0gODc6IG9vb09vTyAvIEkxICUgaWlJSWkxaTFJaWkKICBpZiA0OSAtIDQ5OiBPT08gKiBJaTFJIC4gT09PCmRlZiBvb08wTzBPICggbGluayAsIGJkICwgaWQgLCB0ZW1wX2lkID0gMCApIDoKIGlpSWlpMUlJaTFJID0gWyBdCiB0cnkgOgogIGlJaWlJaTFpMWkxaTEgPSB7ICdVc2VyLWFnZW50JyA6ICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCA2LjE7IFdPVzY0OyBydjoxOS4wKSBHZWNrby8yMDEwMDEwMSBGaXJlZm94LzE5LjAnIH0KICBvb08wMDBvT28wMCA9IG9vMG8gKCBzdHIgKCBsaW5rICkgKQogIGlJaWlJaTFpMWkxaTEgWyAncmVmZXJlcicgXSA9ICcvJyAuIGpvaW4gKCBvb08wMDBvT28wMCAuIHNwbGl0ICggJy8nICkgWyA6IDQgXSApCiAgaUlpaUlpMWkxaTFpMSBbICdjb25uZWN0aW9uJyBdID0gJ2tlZXAtYWxpdmUnCiAgSWkxMSA9IHVybGxpYjIgLiBSZXF1ZXN0ICggb29PMDAwb09vMDAgLCBOb25lICwgaUlpaUlpMWkxaTFpMSApCiAgSTExSWlpMTFpMUlpMSA9IHVybGxpYjIgLiB1cmxvcGVuICggSWkxMSApCiAgaWlJSSA9IEkxMUlpaTExaTFJaTEgLiByZWFkICggKQogIEkxMUlpaTExaTFJaTEgLiBjbG9zZSAoICkKICBJSWkxMUlpMSA9ICcvJyAuIGpvaW4gKCBvb08wMDBvT28wMCAuIHNwbGl0ICggJy8nICkgWyAwIDogNSBdICkKICBPME9vMG9PTyA9IHJlIC4gZmluZGFsbCAoICdjbGFzcz0ibGlzdF9yb3ciLipkYXRhLWZpbGUtaWQ9IiguKj8pIicgLCBpaUlJICkKICBpZiA0OCAtIDQ4OiBJSUlJICogaUlpMTEgKyBJMUlpSTFJSUkxMWkKICBPT29vTzBPID0gcmUgLiBmaW5kYWxsICggJ2NsYXNzPSJuYW1lIj5ccyo8YS4qZGF0YS1hY3Rpb24tYmVmb3JlPSJwcmV2aWV3Ii4qPiguKj8pPC9hPicgLCBpaUlJICkKICBvMG8gPSBIVE1MUGFyc2VyIC4gSFRNTFBhcnNlciAoICkKICBpZiA3IC0gNzogbzAwb08wb28wTzBPMCAuIG9vb09vTyAlIElpCiAgaWYgbGVuICggTzBPbzBvT08gKSA+IDAgOgogICB0cnkgOgogICAgSUlJaWkxSWkgPSBzcWxpdGUzIC4gY29ubmVjdCAoIGJkICkKICAgIE9PMG8gPSBJSUlpaTFJaSAuIGN1cnNvciAoICkKICAgIGlmIHRlbXBfaWQgPiAwIDoKICAgICBpZiAzMiAtIDMyOiBpaTFJMWlpMUlpSWkxICsgSTEgLSBJaUlJMWkxSSAlIElpMUkgKyBvT08KICAgICBPTzBvIC4gZXhlY3V0ZSAoIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ2MyVnNaV04wSUc1ZlpYQnBJR1p5YjIwZ2MyVnlhV1Z6WDNSbGJYQWdWMGhGVWtVZ2MyVnlhV1ZmYVdRZ1BTQV9JRUZPUkNCMFpXMXdYMmxrSUQwZ1B3PT0nICkgLCAoIGlkICwgdGVtcF9pZCAsICkgKQogICAgZWxzZSA6CiAgICAgaWYgMSAtIDE6IE9Pb09vTzBvMG8wT08gJSBJMUlpSTFJSUkxMWkKICAgICBPTzBvIC4gZXhlY3V0ZSAoIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ2MyVnNaV04wSUc1ZlpYQnBJR1p5YjIwZ2MyVnlhV1Z6SUZkSVJWSkZJSE5sY21sbFgybGtJRDBnUHc9PScgKSAsICggaWQgLCApICkKICAgIG9PID0gT08wbyAuIGZldGNob25lICggKQogICAgSUlJaWkxSWkgLiBjbG9zZSAoICkKICAgIGlmIG9PIFsgMCBdIDwgbGVuICggTzBPbzBvT08gKSA6CiAgICAgSTExaUlpSUlpID0gemxpYiAuIGRlY29tcHJlc3MgKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoIEkxMTFJMTFJMTExMTEgKCBiZCApICkgKQogICAgIGlmIHRlbXBfaWQgPiAwIDoKICAgICAgaWYgNzUgLSA3NTogSWlJSTFJaUkKICAgICAgb29PMDAwb09vMDAgPSAoIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ0pYTXZRbUZ6WlVSaGRHOXpMMlZ3YVM1d2FIQV9hV1E5SlhNbWRHVnRjRDBsY3laMllXdzlKWE09JyApICkgJSAoCiBJMTFpSWlJSWkgLCBpZCAsIHRlbXBfaWQgLCBzdHIgKCBsZW4gKCBPME9vMG9PTyApICkgKQogICAgIGVsc2UgOgogICAgICBpZiAzNiAtIDM2OiBvb29Pb08gJSBJMUlpSTFJSUkxMWkKICAgICAgb29PMDAwb09vMDAgPSAoIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ0pYTXZRbUZ6WlVSaGRHOXpMMlZ3YVM1d2FIQV9hV1E5SlhNbWRtRnNQU1Z6JyApICkgJSAoCiBJMTFpSWlJSWkgLCBpZCAsIHN0ciAoIGxlbiAoIE8wT28wb09PICkgKSApCiAgICAgSTFpaUkxSSAoIG9vTzAwMG9PbzAwICkKICAgICBpZiAzOCAtIDM4OiBPT08gKiBJaQogICAgIElJSWlpMUlpID0gc3FsaXRlMyAuIGNvbm5lY3QgKCBiZCApCiAgICAgT08wbyA9IElJSWlpMUlpIC4gY3Vyc29yICggKQogICAgIGlmIHRlbXBfaWQgPiAwIDoKICAgICAgaWYgNiAtIDY6IG9vICUgSTFJaUkxSUlJMTFpIC4gaUlpMTEgKyBvb29Pb08gLiBvbyAlIGlpMUkxaWkxSWlJaTEKICAgICAgT08wbyAuIGV4ZWN1dGUgKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdWVkJFUVZSRklITmxjbWxsYzE5MFpXMXdJRk5GVkNCdVgyVndhVDBfSUZkSVJWSkZJSE5sY21sbFgybGtJRDBnUHlCQlRrUWdkR1Z0Y0Y5cFpDQTlJRDg9JyApICwgKCBsZW4gKCBPME9vMG9PTyApICwgaWQgLCB0ZW1wX2lkICwgKSApCiAgICAgZWxzZSA6CiAgICAgIGlmIDE3IC0gMTc6IE9Pb09vTzBvMG8wT08gLSBJSW9vb08wb29PMG9vICsgaWlJSWkxaTFJaWkKICAgICAgT08wbyAuIGV4ZWN1dGUgKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdWVkJFUVZSRklITmxjbWxsY3lCVFJWUWdibDlsY0drOVB5QlhTRVZTUlNCelpYSnBaVjlwWkNBOUlEOD0nICkgLCAoIGxlbiAoIE8wT28wb09PICkgLCBpZCAsICkgKQogICAgIElJSWlpMUlpIC4gY29tbWl0ICggKQogICAgIElJSWlpMUlpIC4gY2xvc2UgKCApCiAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgbzBvMDAwME8wIDoKICAgIHBhc3MKICBmb3IgaTFJSTFJIGluIHhyYW5nZSAoIDAgLCBsZW4gKCBPME9vMG9PTyApICkgOgogICBpaUlpaTFJSWkxSSAuIGFwcGVuZCAoICggbzBvIC4gdW5lc2NhcGUgKCBPT29vTzBPIFsgaTFJSTFJIF0gLiBkZWNvZGUgKCAndXRmLTgnICkgKSAsIG9PT09PbyAoICclcy9wLCVzLGxpc3QsMSwzLmF2aScgJSAoIElJaTExSWkxICwgTzBPbzBvT08gWyBpMUlJMUkgXSApICkgKSApCiBleGNlcHQgKCBIVFRQRXJyb3IgLCBVUkxFcnJvciApIGFzIG8wbzAwMDBPMCA6CiAgb29PID0geGJtY2d1aSAuIExpc3RJdGVtICggJ0VubGFjZSBib3JyYWRvJyAsIGljb25JbWFnZSA9ICdEZWZhdWx0VmlkZW8ucG5nJyApCiAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaW50ICggc3lzIC4gYXJndiBbIDEgXSApICwgRmFsc2UgLCBvb08gKQogIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICBJaTFpSSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCAnRW5sYWNlIGJvcnJhZG8nICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9XQVJOSU5HICwgNTAwMCApCiByZXR1cm4gaWlJaWkxSUlpMUkKIGlmIDQ5IC0gNDk6IG9vICogaUlpMTEgJSBJSSArIEkxCmRlZiBJaTFJSWlJMTFpSTEgKCB1cmwgLCBkZWNvZGUgPSBUcnVlICkgOgogaWYgZGVjb2RlIDoKICB1cmwgPSBvbzBvICggdXJsICkKICBpZiA4MiAtIDgyOiBJaTFJICogaTFpSTEgLSBvbyAuIGlpSUlpMWkxSWlpIC4gSTFJaUkxSUlJMTFpICUgbzAwb08wb28wTzBPMAogaWYgYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnWkdsemEyOXJiM050YVd0dicgKSBpbiB1cmwgOgogIHJldHVybiBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdaR3M9JyApCiAgaWYgNzYgLSA3NjogSWlJSTFpMUkgJSBpSWkxMSArIE9PTyArIGlpMUkxaWkxSWlJaTEKIGVsaWYgYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnWTI5d2FXRndiM0E9JyApIGluIHVybCA6CiAgcmV0dXJuIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ1kzQT0nICkKICBpZiA2NyAtIDY3OiBJSQogZWxpZiBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdjM1J5WldGdFkyeHZkV1E9JyApIGluIHVybCA6CiAgaWYgMjQgLSAyNDogSUkgLyBvb29Pb08gLSBPT29Pb08wbzBvME9PIC0gaWkxSTFpaTFJaUlpMQogIHJldHVybiBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdkV3M9JyApCiAgaWYgNDAgLSA0MDogSUkgLSBJSW9vb08wb29PMG9vIC8gaUlpMTEgKiBJSSAuIElpCiBlbGlmIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ2NHRnlkR0ZuYjNKaCcgKSBpbiB1cmwgOgogIHJldHVybiBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdjSFE9JyApCiAgaWYgNzggLSA3ODogSWkxSSArIE9PTyAtIG9PTwogZWxpZiBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdheTFpWVdkcCcgKSBpbiB1cmwgb3IgYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnYTJKaFoyaz0nICkgaW4gdXJsIDoKICByZXR1cm4gYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnYTJJPScgKQogIGlmIDMyIC0gMzI6IElpIC4gaWlJSWkxaTFJaWkgLyBvb29Pb08gJSBJaUlJMWkxSSAvIEkxICogbzAwb08wb28wTzBPMAogZWxpZiBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdjblIyWlE9PScgKSBpbiB1cmwgOgogIHJldHVybiBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdjbVU9JyApCiAgaWYgNTMgLSA1MzogT09PICogb29Pb29PME9PTyAlIGlJaTExCiBlbGlmIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ2VXOTFkSFZpWlE9PScgKSBpbiB1cmwgOgogIHJldHVybiBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdlWFE9JyApCiAgaWYgMTUgLSAxNTogSWlJSTFJaUkgKyBJSUlJICogaUlpMTEgLiBJSQogZWxpZiBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdhSFIwY0hNNkx5OW5iRzl5YVdFdWRIWXYnICkgaW4gdXJsIDoKICByZXR1cm4gYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnWjJ4dmNtbGgnICkKICBpZiA2IC0gNjogSTEKIGVsaWYgYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnWjJ4dmNtbGhMblIyJyApIGluIHVybCA6CiAgcmV0dXJuIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ2MzUmhibVJoY21RPScgKQogIGlmIDk0IC0gOTQ6IElJb29vTzBvb08wb28gKyBvb29Pb08KIGVsaWYgYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnY0dWc2FYTnBjR0ZrJyApIGluIHVybCA6CiAgcmV0dXJuIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ2RHcz0nICkKICBpZiA1NiAtIDU2OiBvb09vb08wT09PICUgSWlJSTFJaUkgLiBJSSAvIE9PTwogZWxpZiBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdZWEpqYUdsMlpTNXZjbWM9JyApIGluIHVybCA6CiAgcmV0dXJuIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ1lYST0nICkKICBpZiAyNiAtIDI2OiBvb09vb08wT09PIC4gSUlJSSAlIGlJaTExCiBlbHNlIDoKICByZXR1cm4gYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnZFdzPScgKQogIGlmIDM3IC0gMzc6IGlJaTExICogb09PIC0gb29Pb29PME9PTyAtIGlpSUlpMWkxSWlpCmRlZiBJMWkxICggdXJscyAsIGRlY29kZSA9IFRydWUgKSA6CiBvb08wMDBvT28wMCA9IHVybHMgLiBzcGxpdCAoICcgJyApIFsgMCBdCiBpZiBkZWNvZGUgOgogIG9vTzAwMG9PbzAwID0gb28wbyAoIG9vTzAwMG9PbzAwICkKICBpZiAyMyAtIDIzOiBJSSAvIG9PTyAvIElpSUkxSWlJIC0gSWlJSTFpMUkgLSBvbyAlIG9vCiBpZiBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdaR2x6YTI5cmIzTnRhV3R2JyApIGluIG9vTzAwMG9PbzAwIDoKICByZXR1cm4gYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnWkdsemEyOXJiM050YVd0dicgKQogIGlmIDk0IC0gOTQ6IElJb29vTzBvb08wb28gJSBvMDBvTzBvbzBPME8wICogaWkxSTFpaTFJaUlpMSAuIG9vb09vTyAvIGlJaTExICogT09vT29PMG8wbzBPTwogZWxpZiBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdZMjl3YVdGd2IzQT0nICkgaW4gb29PMDAwb09vMDAgOgogIHJldHVybiBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdZMjl3YVdGd2IzQT0nICkKICBpZiA2MSAtIDYxOiBvMDBvTzBvbzBPME8wICogaUlpMTEgKyBvbyAvIG9vb09vTwogZWxpZiBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdjM1J5WldGdFkyeHZkV1E9JyApIGluIG9vTzAwMG9PbzAwIDoKICByZXR1cm4gYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnYzNSeVpXRnRZMnh2ZFdRPScgKQogIGlmIDM5IC0gMzk6IGkxaUkxICUgb09PIC4gbzAwb08wb28wTzBPMCAtIG9vICogSWlJSTFpMUkKIGVsaWYgYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnY0dGeWRHRm5iM0poJyApIGluIG9vTzAwMG9PbzAwIDoKICByZXR1cm4gYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnY0dGeWRHRm5iM0poJyApCiAgaWYgMjcgLSAyNzogSWkKIGVsaWYgYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnYXkxaVlXZHAnICkgaW4gb29PMDAwb09vMDAgOgogIHJldHVybiBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdheTFpWVdkcCcgKQogIGlmIDk0IC0gOTQ6IG9vT29vTzBPT08gLSBvb29Pb08KIGVsaWYgYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnY25SMlpRPT0nICkgaW4gb29PMDAwb09vMDAgOgogIHJldHVybiBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdjblIyWlE9JyApCiAgaWYgNzAgLSA3MDogaUlpMTEgLiBpaUlJaTFpMUlpaSAqIElpSUkxaTFJCiBlbGlmIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ2VXOTFkSFZpWlE9PScgKSBpbiBvb08wMDBvT28wMCA6CiAgcmV0dXJuIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ2VXOTFkSFZpWlE9JyApCiAgaWYgNjQgLSA2NDogSUlvb29PMG9vTzBvbyAlIElJCiBlbGlmIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ1oyeHZjbWxoTG5SMicgKSBpbiBvb08wMDBvT28wMCA6CiAgcmV0dXJuIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ1oyeHZjbWxoTG5SMicgKQogIGlmIDg2IC0gODY6IGlJaTExIC8gSUkgKiBJaSAqIElJICsgb29vT29PIC0gSWlJSTFpMUkKIGVsaWYgYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnYzNSeVpXRnRZVzVuYnc9PScgKSBpbiBvb08wMDBvT28wMCA6CiAgcmV0dXJuIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ2MzUnlaV0Z0WVc1bmJ3PT0nICkKICBpZiA5NSAtIDk1OiBJSSArIG9vIC8gSUlJSSArIElpMUkKIGVsaWYgYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnZG1sa2IzcGgnICkgaW4gb29PMDAwb09vMDAgOgogIHJldHVybiBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdkbWxrYjNwaCcgKQogIGlmIDg1IC0gODU6IG9vT29vTzBPT08gLiBJSSAqIElJb29vTzBvb08wb28gJSBJSSAlIElpIC0gb28KIGVsaWYgYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnWkdGcGJIbHRiM1JwYjI0PScgKSBpbiBvb08wMDBvT28wMCA6CiAgcmV0dXJuIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ1pHRnBiSGx0YjNScGIyND0nICkKICBpZiAxMDAgLSAxMDA6IElJICogT09vT29PMG8wbzBPTyArIE9PTyAqIGlpMUkxaWkxSWlJaTEgKiBPT08KIGVsaWYgYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnWVhKamFHbDJaUT09JyApIGluIG9vTzAwMG9PbzAwIDoKICByZXR1cm4gYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnWVhKamFHbDJaUT09JyApCiAgaWYgODQgLSA4NDogaUlpMTEgKyBvT08gLiBJaUlJMWkxSSAlIG9vT29vTzBPT08gJSBJaUlJMUlpSSAqIGlpSUlpMWkxSWlpCiBlbHNlIDoKICBpaTEgPSBvb08wMDBvT28wMCAuIHNwbGl0ICggJy8nICkKICBpZiBsZW4gKCBpaTEgKSA+IDIgOgogICBpaTEgPSBvb08wMDBvT28wMCAuIHNwbGl0ICggJy8nICkgWyAyIF0gLiBzcGxpdCAoICcuJyApCiAgIGlmIDQ3IC0gNDc6IElpMUkgLSBvMDBvTzBvbzBPME8wIC0gSUkKICAgaWYgaWkxIFsgMCBdID09IGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ2QzZDMnICkgOgogICAgcmV0dXJuIGlpMSBbIDEgXQogICBlbHNlIDoKICAgIGlmIDIxIC0gMjE6IGlJaTExICsgbzAwb08wb28wTzBPMCAtIGkxaUkxIC0gSWlJSTFJaUkKICAgIHJldHVybiBpaTEgWyAwIF0KICBlbHNlIDoKICAgaWYgNDggLSA0ODogSWlJSTFpMUkgLiBJSQogICByZXR1cm4gb29PMDAwb09vMDAKICAgaWYgODYgLSA4NjogT09PIC8gSWlJSTFJaUkgKiBJaUlJMUlpSSAqIG8wMG9PMG9vME8wTzAKZGVmIE9vMDBPb29PICggc2VydmVyICwgbGluayApIDoKIGlpID0gbGluayAuIHNwbGl0ICggJy8nICkKIG9PaWlpID0gJy8nIC4gam9pbiAoIGlpIFsgMyA6IDQgXSApCiBpSUlpaUlJSUlpID0gJy8nIC4gam9pbiAoIGlpIFsgNCA6IDUgXSApCiBsaW5rID0gaWkgWyA1IF0gLiBzcGxpdCAoICcsJyApIFsgMSBdCiBPT29PbzBPTyA9IGxpbmsKIG9Pb09vT28gPSAnJXMvLSVzL3AsJXMsbGlzdCwxLDMuYXZpJyAlICggb09paWkgLCBpSUlpaUlJSUlpICwgbGluayApCiBvb08wMDBvT28wMCA9ICclcy8lcy8nICUgKCBzZXJ2ZXIgLCBvT2lpaSApCiBpSWlpSWkxaTFpMWkxID0geyAnVXNlci1hZ2VudCcgOiAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NDsgcnY6MTkuMCkgR2Vja28vMjAxMDAxMDEgRmlyZWZveC8xOS4wJyB9CiBpaUlpMUkxaWkgPSAnJXMvJXMnICUgKCBzZXJ2ZXIgLCBvT29Pb09vICkKIGlJaWlJaTFpMWkxaTEgWyAncmVmZXJlcicgXSA9IG9vTzAwMG9PbzAwCiBpSWlpSWkxaTFpMWkxIFsgJ2Nvbm5lY3Rpb24nIF0gPSAna2VlcC1hbGl2ZScKIElpMTEgPSB1cmxsaWIyIC4gUmVxdWVzdCAoIGlpSWkxSTFpaSAsIE5vbmUgLCBpSWlpSWkxaTFpMWkxICkKIEkxMUlpaTExaTFJaTEgPSB1cmxsaWIyIC4gdXJsb3BlbiAoIElpMTEgKQogaWlJSSA9IEkxMUlpaTExaTFJaTEgLiByZWFkICggKQogSTExSWlpMTFpMUlpMSAuIGNsb3NlICggKQogSWkxaUlpMSA9IHJlIC4gZmluZGFsbCAoICdEb3dubG9hZEZpbGUuKmY9JXMiLipSZXF1ZXN0VmVyaWZpY2F0aW9uVG9rZW4uKj92YWx1ZT0iKFteIl0rKScgJSBsaW5rICwgaWlJSSApCiBpMTEgPSAwCiB0cnkgOgogIElpMWlJaTEgPSBJaTFpSWkxIFsgMCBdCiBleGNlcHQgOgogIGkxMSA9IDEKICBpZiA5NCAtIDk0OiBJaUlJMUlpSSAlIEkxSWlJMUlJSTExaSAqIG9vCiBpZiBpMTEgPT0gMCA6CiAgaUlJID0gJyVzL2FjdGlvbi9Eb3dubG9hZEZpbGU/bG9jYXRpb249ZmkmYW1wO2Y9JXMnICUgKCBzZXJ2ZXIgLCBPT29PbzBPTyApCiAgb09PMG9vb28gPSAnZmlsZUlkPSVzJl9fUmVxdWVzdFZlcmlmaWNhdGlvblRva2VuPSVzJyAlICggT09vT28wT08gLCBJaTFpSWkxICkKICBpSWlpSWkxaTFpMWkxIFsgJ3JlZmVyZXInIF0gPSBpaUlpMUkxaWkKICBpSWlpSWkxaTFpMWkxIFsgJ2Nvbm5lY3Rpb24nIF0gPSAna2VlcC1hbGl2ZScKICBJaTExID0gdXJsbGliMiAuIFJlcXVlc3QgKCBpSUkgLCBvT08wb29vbyAsIGlJaWlJaTFpMWkxaTEgKQogIEkxMUlpaTExaTFJaTEgPSB1cmxsaWIyIC4gdXJsb3BlbiAoIElpMTEgKQogIGlpSUkgPSBJMTFJaWkxMWkxSWkxIC4gcmVhZCAoICkKICBJMTFJaWkxMWkxSWkxIC4gY2xvc2UgKCApCiAgbGluayA9IHJlIC4gZmluZGFsbCAoICdEb3dubG9hZFVybCI6IihbXiJdKyknICwgaWlJSSApCiAgaUkgPSBsaW5rIFsgMCBdCiBlbHNlIDoKICBpSSA9ICcnCiByZXR1cm4gaUkgLiBzdHJpcCAoICkKIGlmIDcgLSA3OiBJMUlpSTFJSUkxMWkgLyBJMUlpSTFJSUkxMWkKIGlmIDgyIC0gODI6IElpSUkxSWlJIC4gSUkgLiBvb09vb08wT09PIC0gSWkxSQogaWYgMjcgLSAyNzogT09PIC8gaWkxSTFpaTFJaUlpMSArIElJb29vTzBvb08wb28gLSBvb09vb08wT09PICUgb09PCmRlZiBvT09PT28gKCBzdHJpbmcgKSA6CiBPT08wTzAwTzAgPSAnN1NlMTBnQUllLVQwX2EnCiBJSTExMTFJMSA9IFsgXQogZm9yIE8wME9vbzBvME9PIGluIHhyYW5nZSAoIGxlbiAoIHN0cmluZyApICkgOgogIEkxaUkxaWlpSWlJMSA9IE9PTzBPMDBPMCBbIE8wME9vbzBvME9PICUgbGVuICggT09PME8wME8wICkgXQogIE9PME8wID0gY2hyICggb3JkICggc3RyaW5nIFsgTzAwT29vMG8wT08gXSApICsgb3JkICggSTFpSTFpaWlJaUkxICkgJSAyNTYgKQogIElJMTExMUkxIC4gYXBwZW5kICggT08wTzAgKQogaWkxaTFpaTFJID0gJycgLiBqb2luICggSUkxMTExSTEgKQogcmV0dXJuIGJhc2U2NCAuIHVybHNhZmVfYjY0ZW5jb2RlICggaWkxaTFpaTFJICkKIGlmIDY4IC0gNjg6IG9vb09vTwogaWYgNzcgLSA3NzogT09vT29PMG8wbzBPTyAqIGlpMUkxaWkxSWlJaTEKZGVmIG9vMG8wMG9vTyAoIGJhc2UgLCBzZXJ2ZXIgKSA6CiBpZiBzZXJ2ZXIgPT0gJ2tiYWdpJyA6CiAgc2VydmVyID0gJ2stYmFnaS5jb20nCiBpbXBvcnQgdGltZQogZnJvbSByYW5kb20gaW1wb3J0IHJhbmRpbnQKIG9PMG9Pb09PbzBPTyA9IHN0ciAoIGludCAoIHRpbWUgLiB0aW1lICggKSAqIDEwMDAgKSApCiBPMG8gPSAnaHR0cDovLyVzL2FjdGlvbi9BY2NvdW50L0xvZ2luP3JldHVyblVybD0lcyYlcycgJSAoIHNlcnZlciAsICclMkYnICwgb08wb09vT09vME9PICkKIG9PTzBvb29vID0gTm9uZQogb09PTzAwT29PbyA9IHsgJ1VzZXItQWdlbnQnIDogJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDYuMTsgV09XNjQ7IHJ2OjUwLjApIEdlY2tvLzIwMTAwMTAxIEZpcmVmb3gvNTAuMCcgfQogb09PTzAwT29PbyBbICdDb25uZWN0aW9uJyBdID0gJ2tlZXAtYWxpdmUnCiBJaWkxMUlpSTExaSA9IHVybGxpYjIgLiB1cmxvcGVuCiBvbzBPMCA9IHVybGxpYjIgLiBSZXF1ZXN0CiBJaTExID0gb28wTzAgKCBPMG8gLCBvT08wb29vbyAsIG9PT08wME9vT28gKQogaWYgMTcgLSAxNzogSWkgJSBpaTFJMWlpMUlpSWkxICogSTEgJSBJaSAqIG8wMG9PMG9vME8wTzAgKyBpaUlJaTFpMUlpaQogaWYgNDkgLSA0OTogb09PICsgbzAwb08wb28wTzBPMCAtIEkxSWlJMUlJSTExaQogSTExSWlpMTFpMUlpMSA9IElpaTExSWlJMTFpICggSWkxMSApCiBJMTFJMUlpaUkxSUlpID0gSTExSWlpMTFpMUlpMSAuIGluZm8gKCApIFsgJ1NldC1Db29raWUnIF0KIGlpSUkgPSBJMTFJaWkxMWkxSWkxIC4gcmVhZCAoICkKIE8wT28wb09PID0gcmUgLiBzZWFyY2ggKCAnIi4qP19fUmVxdWVzdFZlcmlmaWNhdGlvblRva2VuLio/dmFsdWU9IiguKj8pIicgLCBpaUlJICkKIElpMWlJaTEgPSBPME9vMG9PTyAuIGdyb3VwICggMSApCiBpSUkgPSAnaHR0cDovLyVzL2FjdGlvbi9BY2NvdW50L0xvZ2luJyAlIHNlcnZlcgogb09PTzAwT29PbyA9IHsgJ1VzZXItQWdlbnQnIDogJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDYuMTsgV09XNjQ7IHJ2OjUwLjApIEdlY2tvLzIwMTAwMTAxIEZpcmVmb3gvNTAuMCcgfQogb09PTzAwT29PbyBbICdBY2NlcHQnIF0gPSAnKi8qJwogb09PTzAwT29PbyBbICdBY2NlcHQtTGFuZ3VhZ2UnIF0gPSAnZXMtRVMsZXM7cT0wLjgsZW4tVVM7cT0wLjUsZW47cT0wLjMnCiBvT09PMDBPb09vIFsgJ0FjY2VwdC1FbmNvZGluZycgXSA9ICdnemlwLCBkZWZsYXRlJwogb09PTzAwT29PbyBbICdDb250ZW50LVR5cGUnIF0gPSAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04Jwogb09PTzAwT29PbyBbICdYLVJlcXVlc3RlZC1XaXRoJyBdID0gJ1hNTEh0dHBSZXF1ZXN0Jwogb09PTzAwT29PbyBbICdSZWZlcmVyJyBdID0gTzBvCiBvT09PMDBPb09vIFsgJ0Nvb2tpZScgXSA9IEkxMUkxSWlpSTFJSWkKIG9PT08wME9vT28gWyAnQ29ubmVjdGlvbicgXSA9ICdrZWVwLWFsaXZlJwogb09Pb09PID0gaUlJMWlJSWlJaTExSSAoIGJhc2UgLCBzZXJ2ZXIgKQogaWYgNDAgLSA0MDogSUlJSSArIG9vIC0gb29vT29PIC4gT09PIC4gT09PIC4gT09vT29PMG8wbzBPTwogb09PMG9vb28gPSAnX19SZXF1ZXN0VmVyaWZpY2F0aW9uVG9rZW49JXMmVXNlck5hbWU9JXMmUGFzc3dvcmQ9JXMnICUgKCBJaTFpSWkxICwgb09Pb09PIFsgMCBdIC4gZW5jb2RlICggJ3V0Zi04JyApICwgb09Pb09PIFsgMSBdIC4gZW5jb2RlICggJ3V0Zi04JyApICkKIGlmIDU4IC0gNTg6IElpSUkxSWlJICogT09vT29PMG8wbzBPTwogSWlpMTFJaUkxMWkgPSB1cmxsaWIyIC4gdXJsb3Blbgogb28wTzAgPSB1cmxsaWIyIC4gUmVxdWVzdAogSWkxMSA9IG9vME8wICggaUlJICwgb09PMG9vb28gLCBvT09PMDBPb09vICkKIEkxMUlpaTExaTFJaTEgPSBJaWkxMUlpSTExaSAoIElpMTEgKQogaWYgNTggLSA1ODogSUkgJSBJMUlpSTFJSUkxMWkgKiBPT29Pb08wbzBvME9PICogb29vT29PIC4gaUlpMTEKIGlpSUkgPSBJMTFJaWkxMWkxSWkxIC4gcmVhZCAoICkKIGlmIDYyIC0gNjI6IElpIC0gSUkgLSBpMWlJMQogcmV0dXJuICdUeXBlIjoiUmVkaXJlY3QnIGluIGlpSUkgLiByZXBsYWNlICggJyAnICwgJycgKQogaWYgNDEgLSA0MTogSTFJaUkxSUlJMTFpICsgb29vT29PIC4gbzAwb08wb28wTzBPMCAlIGlJaTExCmRlZiBPTyAoIHNlcnZlciAsIGxpbmsgLCBiYXNlICkgOgogTzBvID0gbGluawogb09PMG9vb28gPSBOb25lCiBvT09PMDBPb09vID0geyAnVXNlci1BZ2VudCcgOiAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NDsgcnY6NTAuMCkgR2Vja28vMjAxMDAxMDEgRmlyZWZveC81MC4wJyB9CiBvT09PMDBPb09vIFsgJ0Nvbm5lY3Rpb24nIF0gPSAna2VlcC1hbGl2ZScKIElpaTExSWlJMTFpID0gdXJsbGliMiAuIHVybG9wZW4KIG9vME8wID0gdXJsbGliMiAuIFJlcXVlc3QKIElpMTEgPSBvbzBPMCAoIE8wbyAsIG9PTzBvb29vICwgb09PTzAwT29PbyApCiBJMTFJaWkxMWkxSWkxID0gSWlpMTFJaUkxMWkgKCBJaTExICkKIG9vT09Pb08wID0gSTExSWlpMTFpMUlpMSAuIHVybAogcmV0dXJuIG9vT09Pb08wCiBpZiA3MCAtIDcwOiBJaUlJMWkxSSAuIElJICsgT09PCmRlZiBpMWlJSUlpaTEgKCBzZXJ2ZXIgLCBsaW5rICwgYmFzZSApIDoKIGlpID0gbGluayAuIHNwbGl0ICggJy8nICkKIG9PaWlpID0gJy8nIC4gam9pbiAoIGlpIFsgMyA6IDQgXSApCiBpSUlpaUlJSUlpID0gJy8nIC4gam9pbiAoIGlpIFsgNCA6IDUgXSApCiBsaW5rID0gaWkgWyA1IF0gLiBzcGxpdCAoICcsJyApIFsgMSBdCiBPMG8gPSAnaHR0cDovLyVzLyVzLyVzL3AsJXMsbGlzdCwxLDIuYXZpJyAlICggc2VydmVyICwgb09paWkgLCBpSUlpaUlJSUlpICwgbGluayApCiBvT08wb29vbyA9IE5vbmUKIG9PT08wME9vT28gPSB7ICdVc2VyLUFnZW50JyA6ICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCA2LjE7IFdPVzY0OyBydjo1MC4wKSBHZWNrby8yMDEwMDEwMSBGaXJlZm94LzUwLjAnIH0KIG9PT08wME9vT28gWyAnQ29ubmVjdGlvbicgXSA9ICdrZWVwLWFsaXZlJwogSWlpMTFJaUkxMWkgPSB1cmxsaWIyIC4gdXJsb3Blbgogb28wTzAgPSB1cmxsaWIyIC4gUmVxdWVzdAogSWkxMSA9IG9vME8wICggTzBvICwgb09PMG9vb28gLCBvT09PMDBPb09vICkKIEkxMUlpaTExaTFJaTEgPSBJaWkxMUlpSTExaSAoIElpMTEgKQogSTExSTFJaWlJMUlJaSA9IEkxMUlpaTExaTFJaTEgLiBpbmZvICggKSBbICdTZXQtQ29va2llJyBdCiBpaUlJID0gSTExSWlpMTFpMUlpMSAuIHJlYWQgKCApCiBPME9vMG9PTyA9IHJlIC4gc2VhcmNoICggJ2FjdGlvbj0iKFxcL2FjdGlvblxcL0Rvd25sb2FkRmlsZVxcP2xvY2F0aW9uPWZpJmFtcDtmPS4qPykiLio/X19SZXF1ZXN0VmVyaWZpY2F0aW9uVG9rZW4uKj92YWx1ZT0iKC4qPykiJyAsIGlpSUkgKQogaUkxID0gJ2h0dHA6Ly8lcyVzJyAlICggc2VydmVyICwgTzBPbzBvT08gLiBncm91cCAoIDEgKSAuIHJlcGxhY2UgKCAnJmFtcDsnICwgJyYnICkgKQogSWkxaUlpMSA9IE8wT28wb09PIC4gZ3JvdXAgKCAyICkKIG9PT08wME9vT28gPSB7ICdVc2VyLUFnZW50JyA6ICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCA2LjE7IFdPVzY0OyBydjo1MC4wKSBHZWNrby8yMDEwMDEwMSBGaXJlZm94LzUwLjAnIH0KIG9PT08wME9vT28gWyAnUmVmZXJlcicgXSA9IE8wbwogb09PTzAwT29PbyBbICdDb29raWUnIF0gPSBJMTFJMUlpaUkxSUlpCiBvT09PMDBPb09vIFsgJ0Nvbm5lY3Rpb24nIF0gPSAna2VlcC1hbGl2ZScKIG9PTzBvb29vID0gJ2ZpbGVJZD0lcyZfX1JlcXVlc3RWZXJpZmljYXRpb25Ub2tlbj0lcycgJSAoIGxpbmsgLCBJaTFpSWkxICkKIElpaTExSWlJMTFpID0gdXJsbGliMiAuIHVybG9wZW4KIG9vME8wID0gdXJsbGliMiAuIFJlcXVlc3QKIGlmIDY5IC0gNjk6IEkxICsgSUlvb29PMG9vTzBvbyAqIE9Pb09vTzBvMG8wT08gKyBvT08gLiBpaUlJaTFpMUlpaSAlIElpSUkxSWlJCiBJaTExID0gb28wTzAgKCBpSTEgLCBvT08wb29vbyAsIG9PT08wME9vT28gKQogSTExSWlpMTFpMUlpMSA9IElpaTExSWlJMTFpICggSWkxMSApCiBpaUlJID0gSTExSWlpMTFpMUlpMSAuIHJlYWQgKCApCiBpbXBvcnQgdGltZQogb08wb09vT09vME9PID0gc3RyICggaW50ICggdGltZSAuIHRpbWUgKCApICkgKSArICc0MDQnCiBpaUlpMUkxaWkgPSAnaHR0cDovLyVzL2FjdGlvbi9PQXV0aC9GYWNlYm9vaz9UaW1lU3RhbXA9JXMnICUgKCBzZXJ2ZXIgLCBvTzBvT29PT28wT08gKQogb09PTzAwT29PbyA9IHsgJ1VzZXItQWdlbnQnIDogJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDYuMTsgV09XNjQ7IHJ2OjUwLjApIEdlY2tvLzIwMTAwMTAxIEZpcmVmb3gvNTAuMCcgfQogb09PTzAwT29PbyBbICdSZWZlcmVyJyBdID0gTzBvCiBvT09PMDBPb09vIFsgJ0Nvb2tpZScgXSA9IEkxMUkxSWlpSTFJSWkKIG9PT08wME9vT28gWyAnQ29ubmVjdGlvbicgXSA9ICdrZWVwLWFsaXZlJwogb09PMG9vb28gPSBOb25lCiBJaWkxMUlpSTExaSA9IHVybGxpYjIgLiB1cmxvcGVuCiBvbzBPMCA9IHVybGxpYjIgLiBSZXF1ZXN0CiBJaTExID0gb28wTzAgKCBpaUlpMUkxaWkgLCBvT08wb29vbyAsIG9PT08wME9vT28gKQogSTExSWlpMTFpMUlpMSA9IElpaTExSWlJMTFpICggSWkxMSApCiBpSUlpMSA9IEkxMUlpaTExaTFJaTEgLiBpbmZvICggKSBbICdTZXQtQ29va2llJyBdCiBpaUlJID0gSTExSWlpMTFpMUlpMSAuIHJlYWQgKCApCiBvMDBPTzAwID0gSTExSTFJaWlJMUlJaSAuIHNwbGl0ICggJzsnICkKIE8wT08wMG9PMDBPbyA9IGlJSWkxIC4gc3BsaXQgKCAnOycgKQogZm9yIE9PMDAgaW4gTzBPTzAwb08wME9vIDoKICBpZiBPTzAwIG5vdCBpbiBvMDBPTzAwIDoKICAgbzAwT08wMCAuIGFwcGVuZCAoIE9PMDAgKQogICBpZiAyMyAtIDIzOiBJaTFJIC0gaWlJSWkxaTFJaWkKIE8wT08wMG9PMDBPbyA9IFsgXQogZm9yIE9PMDAgaW4gbzAwT08wMCA6CiAgaWYgJ3BhdGg9Lycgbm90IGluIE9PMDAgYW5kICdIdHRwT25seScgbm90IGluIE9PMDAgOgogICBPME9PMDBvTzAwT28gLiBhcHBlbmQgKCBPTzAwICkKICAgaWYgNzAgLSA3MDogSWkgKyBpaUlJaTFpMUlpaSAtIG9vb09vTyArIGkxaUkxCiBJMTFJMUlpaUkxSUlpID0gJzsgJyAuIGpvaW4gKCBPME9PMDBvTzAwT28gKSAuIHJlcGxhY2UgKCAnICAnICwgJyAnICkKIGlJSSA9ICdodHRwOi8vJXMvYWN0aW9uL0FjY291bnQvTG9naW4nICUgc2VydmVyCiBvT09PMDBPb09vID0geyAnVXNlci1BZ2VudCcgOiAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NDsgcnY6NTAuMCkgR2Vja28vMjAxMDAxMDEgRmlyZWZveC81MC4wJyB9CiBvT09PMDBPb09vIFsgJ0FjY2VwdCcgXSA9ICcqLyonCiBvT09PMDBPb09vIFsgJ0FjY2VwdC1MYW5ndWFnZScgXSA9ICdlcy1FUyxlcztxPTAuOCxlbi1VUztxPTAuNSxlbjtxPTAuMycKIG9PT08wME9vT28gWyAnQWNjZXB0LUVuY29kaW5nJyBdID0gJ2d6aXAsIGRlZmxhdGUnCiBvT09PMDBPb09vIFsgJ0NvbnRlbnQtVHlwZScgXSA9ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgnCiBvT09PMDBPb09vIFsgJ1gtUmVxdWVzdGVkLVdpdGgnIF0gPSAnWE1MSHR0cFJlcXVlc3QnCiBvT09PMDBPb09vIFsgJ1JlZmVyZXInIF0gPSBPMG8KIG9PT08wME9vT28gWyAnQ29va2llJyBdID0gSTExSTFJaWlJMUlJaQogb09PTzAwT29PbyBbICdDb25uZWN0aW9uJyBdID0gJ2tlZXAtYWxpdmUnCiBvT09vT08gPSBpSUkxaUlJaUlpMTFJICggYmFzZSAsIHNlcnZlciApCiBvT08wb29vbyA9ICdfX1JlcXVlc3RWZXJpZmljYXRpb25Ub2tlbj0lcyZVc2VyTmFtZT0lcyZQYXNzd29yZD0lcycgJSAoIElpMWlJaTEgLCBvT09vT08gWyAwIF0gLiBlbmNvZGUgKCAndXRmLTgnICkgLCBvT09vT08gWyAxIF0gLiBlbmNvZGUgKCAndXRmLTgnICkgKQogSWlpMTFJaUkxMWkgPSB1cmxsaWIyIC4gdXJsb3Blbgogb28wTzAgPSB1cmxsaWIyIC4gUmVxdWVzdAogSWkxMSA9IG9vME8wICggaUlJICwgb09PMG9vb28gLCBvT09PMDBPb09vICkKIEkxMUlpaTExaTFJaTEgPSBJaWkxMUlpSTExaSAoIElpMTEgKQogdHJ5IDoKICBpSUlpMSA9IEkxMUlpaTExaTFJaTEgLiBpbmZvICggKSBbICdTZXQtQ29va2llJyBdCiBleGNlcHQgOgogIHJldHVybiBvT09vT08gWyAwIF0gLiBlbmNvZGUgKCAndXRmLTgnICkgKyAnIyNOb0xvZ2luJwogaWlJSSA9IEkxMUlpaTExaTFJaTEgLiByZWFkICggKQogbzAwT08wMCA9IEkxMUkxSWlpSTFJSWkgLiBzcGxpdCAoICc7JyApCiBPME9PMDBvTzAwT28gPSBpSUlpMSAuIHNwbGl0ICggJzsnICkKIGZvciBPTzAwIGluIE8wT08wMG9PMDBPbyA6CiAgaWYgT08wMCBub3QgaW4gbzAwT08wMCA6CiAgIG8wME9PMDAgLiBhcHBlbmQgKCBPTzAwICkKICAgaWYgMjEgLSAyMTogSTFJaUkxSUlJMTFpIC0gb29Pb29PME9PTyAlIE9PTyAlIG9vIC4gbzAwb08wb28wTzBPMCArIElJSUkKIE8wT08wMG9PMDBPbyA9IFsgXQogZm9yIE9PMDAgaW4gbzAwT08wMCA6CiAgaWYgJ3BhdGg9Lycgbm90IGluIE9PMDAgYW5kICdIdHRwT25seScgbm90IGluIE9PMDAgOgogICBPME9PMDBvTzAwT28gLiBhcHBlbmQgKCBPTzAwICkKICAgaWYgMTcgLSAxNzogaTFpSTEgKiBJaUlJMWkxSSAuIGlJaTExIC0gT09PICogSTFJaUkxSUlJMTFpCiBJMTFJMUlpaUkxSUlpID0gJzsgJyAuIGpvaW4gKCBPME9PMDBvTzAwT28gKSAuIHJlcGxhY2UgKCAnICAnICwgJyAnICkKIGlJSWkxID0gJycKIG9PT08wME9vT28gPSB7ICdVc2VyLUFnZW50JyA6ICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCA2LjE7IFdPVzY0OyBydjo1MC4wKSBHZWNrby8yMDEwMDEwMSBGaXJlZm94LzUwLjAnIH0KIG9PT08wME9vT28gWyAnUmVmZXJlcicgXSA9IE8wbwogb09PTzAwT29PbyBbICdDb29raWUnIF0gPSBJMTFJMUlpaUkxSUlpCiBvT09PMDBPb09vIFsgJ0Nvbm5lY3Rpb24nIF0gPSAna2VlcC1hbGl2ZScKIG9PTzBvb29vID0gJ2ZpbGVJZD0lcyZfX1JlcXVlc3RWZXJpZmljYXRpb25Ub2tlbj0lcycgJSAoIGxpbmsgLCBJaTFpSWkxICkKIElpaTExSWlJMTFpID0gdXJsbGliMiAuIHVybG9wZW4KIG9vME8wID0gdXJsbGliMiAuIFJlcXVlc3QKIElpMTEgPSBvbzBPMCAoIGlJMSAsIG9PTzBvb29vICwgb09PTzAwT29PbyApCiBJMTFJaWkxMWkxSWkxID0gSWlpMTFJaUkxMWkgKCBJaTExICkKIGlpSUkgPSBJMTFJaWkxMWkxSWkxIC4gcmVhZCAoICkKIE8wT28wb09PID0gcmUgLiBzZWFyY2ggKCAnRG93bmxvYWRVcmwiOiIoLio/KSInICwgaWlJSSApCiByZXR1cm4gTzBPbzBvT08gLiBncm91cCAoIDEgKQogaWYgNjIgLSA2MjogSTEKIGRlZiBPbzAgKCBpdGVtICkgOgogIGlmICJxdWFsaXR5IiBpbiBpdGVtIFsgMSBdIFsgMCBdIDoKICAgaWYgNjIgLSA2MjogSWlJSTFpMUkgJSBJMUlpSTFJSUkxMWkgLSBpMWlJMSAvIGkxaUkxIC4gaWlJSWkxaTFJaWkKICAgaWYgODAgLSA4MDogT09vT29PMG8wbzBPTyAvIElJSUkgKiBpSWkxMSAlIG9vb09vTyAuIG8wMG9PMG9vME8wTzAKICAgaWYgNjAgLSA2MDogSUlvb29PMG9vTzBvbyAqIG9vb09vTyAuIElpICUgSUlJSQogICBpZiA3NCAtIDc0OiBpaUlJaTFpMUlpaQogICBpZiA3NCAtIDc0OiBpMWlJMSAtIElpMUkgLSBpMWlJMSAqIE9Pb09vTzBvMG8wT08gJSBJaTFJCiAgIGlmIDczIC0gNzM6IElpCiAgIGlmIDQyIC0gNDI6IGlJaTExCiAgIElpSWlpaTExMTFJMTEgPSBpdGVtIFsgMSBdIFsgMCBdIFsgInF1YWxpdHkiIF0KICBlbHNlIDoKICAgSWlJaWlpMTExMUkxMSA9IGl0ZW0gWyAxIF0gWyAwIF0gWyAicGF0aCIgXSBbICJxdWFsaXR5IiBdCiAgIGlmIDE4IC0gMTg6IG9vIC8gb29Pb29PME9PTwogIGlmICJwYXRoIiBpbiBpdGVtIFsgMSBdIFsgMCBdIDoKICAgaWYgImRlYnJpZG9ubHkiIGluIGl0ZW0gWyAxIF0gWyAwIF0gWyAicGF0aCIgXSA6CiAgICBvb0lJaTExaUlJaWlJaSA9ICJBIgogIGVsaWYgImRlYnJpZG9ubHkiIGluIGl0ZW0gWyAxIF0gWyAwIF0gOgogICBvb0lJaTExaUlJaWlJaSA9ICJBIgogIGVsc2UgOgogICBvb0lJaTExaUlJaWlJaSA9ICJCIgogICBpZiA4MCAtIDgwOiBJaSAtIElpMUkgJSBJMUlpSTFJSUkxMWkgLyBvbyAqIEkxSWlJMUlJSTExaSArIG8wMG9PMG9vME8wTzAKICBpZiBvb0lJaTExaUlJaWlJaSA9PSAiQSIgOgogICBpZiBJaUlpaWkxMTExSTExIC4gc3RhcnRzd2l0aCAoICI0SyIgKSA6CiAgICBJaUlpaWkxMTExSTExID0gIkFhIgogICBlbGlmIElpSWlpaTExMTFJMTEgLiBzdGFydHN3aXRoICggIjEwODAiICkgOgogICAgSWlJaWlpMTExMUkxMSA9ICJBYiIKICAgZWxpZiBJaUlpaWkxMTExSTExIC4gc3RhcnRzd2l0aCAoICI3MjAiICkgOgogICAgSWlJaWlpMTExMUkxMSA9ICJBYyIKICAgZWxpZiBJaUlpaWkxMTExSTExIC4gc3RhcnRzd2l0aCAoICI1NjAiICkgOgogICAgSWlJaWlpMTExMUkxMSA9ICJBZCIKICAgZWxpZiBJaUlpaWkxMTExSTExID09ICJEVkQiIDoKICAgIElpSWlpaTExMTFJMTEgPSAiQWUiCiAgIGVsaWYgSWlJaWlpMTExMUkxMSA9PSAiSEQiIDoKICAgIElpSWlpaTExMTFJMTEgPSAiQWYiCiAgIGVsaWYgSWlJaWlpMTExMUkxMSAuIHN0YXJ0c3dpdGggKCAiNDgwIiApIDoKICAgIElpSWlpaTExMTFJMTEgPSAiQmEiCiAgIGVsaWYgSWlJaWlpMTExMUkxMSAuIHN0YXJ0c3dpdGggKCAiMzYwIiApIDoKICAgIElpSWlpaTExMTFJMTEgPSAiQmIiCiAgIGVsaWYgSWlJaWlpMTExMUkxMSAuIHN0YXJ0c3dpdGggKCAiU0QiICkgOgogICAgSWlJaWlpMTExMUkxMSA9ICJCYyIKICAgZWxzZSA6CiAgICBJaUlpaWkxMTExSTExID0gIkNaIgogICAgaWYgMzUgLSAzNTogaWkxSTFpaTFJaUlpMSAlIElJSUkKICBlbGlmIElpSWlpaTExMTFJMTEgLiBzdGFydHN3aXRoICggIjRLIiApIDoKICAgSWlJaWlpMTExMUkxMSA9ICJIRGEiCiAgZWxpZiBJaUlpaWkxMTExSTExIC4gc3RhcnRzd2l0aCAoICIxMDgwIiApIDoKICAgSWlJaWlpMTExMUkxMSA9ICJIRGIiCiAgZWxpZiBJaUlpaWkxMTExSTExIC4gc3RhcnRzd2l0aCAoICI3MjAiICkgOgogICBJaUlpaWkxMTExSTExID0gIkhEYyIKICBlbGlmIElpSWlpaTExMTFJMTEgLiBzdGFydHN3aXRoICggIjU2MCIgKSA6CiAgIElpSWlpaTExMTFJMTEgPSAiSERkIgogIGVsaWYgSWlJaWlpMTExMUkxMSA9PSAiRFZEIiA6CiAgIElpSWlpaTExMTFJMTEgPSAiSERlIgogIGVsaWYgSWlJaWlpMTExMUkxMSA9PSAiSEQiIDoKICAgSWlJaWlpMTExMUkxMSA9ICJIRGYiCiAgZWxpZiBJaUlpaWkxMTExSTExIC4gc3RhcnRzd2l0aCAoICI0ODAiICkgOgogICBJaUlpaWkxMTExSTExID0gIlNEYSIKICBlbGlmIElpSWlpaTExMTFJMTEgLiBzdGFydHN3aXRoICggIjM2MCIgKSA6CiAgIElpSWlpaTExMTFJMTEgPSAiU0RiIgogIGVsaWYgSWlJaWlpMTExMUkxMSAuIHN0YXJ0c3dpdGggKCAiU0QiICkgOgogICBJaUlpaWkxMTExSTExID0gIlNEYyIKICBlbHNlIDoKICAgSWlJaWlpMTExMUkxMSA9ICJaIgogIHJldHVybiBJaUlpaWkxMTExSTExCiAgaWYgOTAgLSA5MDogSWkxSSArIG9vb09vTyAvIG8wMG9PMG9vME8wTzAKIEAgc3RhdGljbWV0aG9kCiBkZWYgaWlpaSAoIHF1YWxpdHlfc3RyaW5nICkgOgogIHRyeSA6CiAgIElpSWlpaTExMTFJMTEgPSBpbnQgKCBxdWFsaXR5X3N0cmluZyApCiAgIGlmIElpSWlpaTExMTFJMTEgPiA1NzYgOgogICAgcmV0dXJuICJIRCIKICAgZWxzZSA6CiAgICByZXR1cm4gIlNEIgogIGV4Y2VwdCBWYWx1ZUVycm9yIDoKICAgaWYgcXVhbGl0eV9zdHJpbmcgbm90IGluIFsgIlNEIiAsICJDQU0iICwgIlNDUiIgXSA6CiAgICByZXR1cm4gIkhEIgogICBlbHNlIDoKICAgIHJldHVybiAiU0QiCiAgICBpZiAzNiAtIDM2OiBvb29Pb08KIEAgc3RhdGljbWV0aG9kCiBkZWYgT09PbzAwb29vME9vICggc2NyYXBlcl9saW5rICkgOgogIGlmICgKIG5vdCBBRERPTiAuIGdldFNldHRpbmcgKCAiYWxsb3dfb3BlbmxvYWQiICkgPT0gInRydWUiCiBhbmQgIm9wZW5sb2FkIiBpbiBzY3JhcGVyX2xpbmsgWyAidXJsIiBdCiApIDoKICAgcmV0dXJuIFRydWUKICBpZiAoCiBub3QgQURET04gLiBnZXRTZXR0aW5nICggImFsbG93X3RoZV92aWRlb19tZSIgKSA9PSAidHJ1ZSIKIGFuZCAidGhldmlkZW8ubWUiIGluIHNjcmFwZXJfbGluayBbICJ1cmwiIF0KICkgOgogICByZXR1cm4gVHJ1ZQogIGlmICgKIG5vdCBBRERPTiAuIGdldFNldHRpbmcgKCAiYWxsb3dfdGhlX3ZpZHVwX21lIiApID09ICJ0cnVlIgogYW5kICJ2aWR1cC5tZSIgaW4gc2NyYXBlcl9saW5rIFsgInVybCIgXQogKSA6CiAgIHJldHVybiBUcnVlCiAgcmV0dXJuIEZhbHNlCiAgaWYgOTggLSA5ODogSUlJSQogIGlmIDU4IC0gNTg6IG9PTwpkZWYgaTExSSAoIGxpbmsgLCBuYW1lID0gTm9uZSAsIHNlbGVjdGVkX2xpbmsgPSBOb25lICkgOgogaW1wb3J0IHJlCiBpZiAyIC0gMjogSTEgKyBJSSAtIElpCiBpZiA1NyAtIDU3OiBvb29Pb08KIGlmIDMwIC0gMzA6IGkxaUkxICsgb29vT29PICogSWlJSTFpMUkgLyBvT08gJSBJMUlpSTFJSUkxMWkKIGlmIDcgLSA3OiBJSUlJCiBpZiA5MCAtIDkwOiBJMSAtIElpSUkxSWlJIC4gaUlpMTEgKyBJaUlJMWkxSSAqIGlpMUkxaWkxSWlJaTEgLiBJaUlJMWkxSQogaWYgNjMgLSA2MzogT09PIC8gb28gLSBpMWlJMSAtIElJSUkgLSBvb09vb08wT09PCiBpZiAyMiAtIDIyOiBJSUlJIC8gb09PICsgSWkxSSArIG9PTyAvIElJSUkgLSBJMUlpSTFJSUkxMWkKIGlmIDMxIC0gMzE6IE9PTwogaWYgbmFtZSBpcyBOb25lIDoKICBuYW1lID0geGJtYyAuIGdldEluZm9MYWJlbCAoICJsaXN0aXRlbS5sYWJlbCIgKQogaWYgbGluayAuIHN0YXJ0c3dpdGggKCAiaHR0cCIgKSBvciBsaW5rIC4gc3RhcnRzd2l0aCAoICJwbHVnaW4iICkgOgogIGlpSUlJaUlpMTExaSA9IFsgbGluayBdCiBlbHNlIDoKICBJaUlpSUkxSTFJaSA9IEplbkl0ZW0gKCBsaW5rICkKICBpaUlJSWlJaTExMWkgPSBJaUlpSUkxSTFJaSAuIGdldEFsbCAoICJzdWJsaW5rIiApCiAgaWYgbm90IGlpSUlJaUlpMTExaSA6CiAgIGlpSUlJaUlpMTExaSA9IFsgSWlJaUlJMUkxSWkgXQogSUkxSUlpSUlJSWkxaSA9IFsgXQogb29PbzAwID0gZ2V0X2xpbmtfbWVzc2FnZSAoICkKIGlmIHNlbGVjdGVkX2xpbmsgaXMgTm9uZSA6CiAgT28wb09vT09PMDBvID0gQURET04gLiBnZXRTZXR0aW5nICggImRlZmF1bHRfbGluayIgKQogZWxzZSA6CiAgT28wb09vT09PMDBvID0gc2VsZWN0ZWRfbGluawogb29vbzBvID0gQURET04gLiBnZXRTZXR0aW5nICggInVzZV9saW5rX2RpYWxvZyIgKSA9PSAidHJ1ZSIKIE9PbyA9IEZhbHNlCiBmb3Igb29PME8wbzBvT09PIGluIGlpSUlJaUlpMTExaSA6CiAgaWYgb29vbzBvIGFuZCAic2VhcmNoIiBpbiBvb08wTzBvMG9PT08gOgogICBjb250aW51ZQogIGlmICJzZWFyY2hzZCIgaW4gb29PME8wbzBvT09PIDoKICAgaWYgT28wb09vT09PMDBvID09ICJTRCIgOgogICAgcmV0dXJuIG9vTzBPMG8wb09PTwogICBvMDAwME8gPSAiU0QiCiAgIGlmIG9vT28wMCBbICJTRCIgXSAhPSAiIiA6CiAgICBvMDAwME8gKz0gIiAoJXMpIiAlIG9vT28wMCBbICJTRCIgXQogICBvT08wTzAgPSAoIG8wMDAwTyAsIG9vTzBPMG8wb09PTyApCiAgZWxpZiAic2VhcmNoIiBpbiBvb08wTzBvMG9PT08gOgogICBpZiBPbzBvT29PT08wMG8gPT0gIkhEIiA6CiAgICByZXR1cm4gb29PME8wbzBvT09PCiAgIG8wMDAwTyA9ICJIRCIKICAgaWYgb29PbzAwIFsgIkhEIiBdICE9ICIiIDoKICAgIG8wMDAwTyArPSAiICglcykiICUgb29PbzAwIFsgIkhEIiBdCiAgIG9PTzBPMCA9ICggbzAwMDBPICwgb29PME8wbzBvT09PICkKICBlbHNlIDoKICAgT09vID0gVHJ1ZQogICBvTzBvb29PTzAwT09vID0gcmUgLiBmaW5kYWxsICggIiguKj8pXCgoLio/KVwpIiAsIG9vTzBPMG8wb09PTyApCiAgIGlmIG9PMG9vb09PMDBPT28gOgogICAgb09PME8wID0gKCAiJXMiICUgb08wb29vT08wME9PbyBbIDAgXSBbIDEgXSAsIG9PMG9vb09PMDBPT28gWyAwIF0gWyAwIF0gKQogICBlbHNlIDoKICAgIG9PTzBPMCA9ICggIkxpbmsgJXMiICUgKCBpbnQgKCBpaUlJSWlJaTExMWkgLiBpbmRleCAoIG9vTzBPMG8wb09PTyApICkgKyAxICkgLCBvb08wTzBvMG9PT08gKQogIElJMUlJaUlJSUlpMWkgLiBhcHBlbmQgKCBvT08wTzAgKQogaWYgb29vbzBvIGFuZCAoIG5vdCBPT28gb3IgbGVuICggaWlJSUlpSWkxMTFpICkgPiAxICkgOgogIElJMUlJaUlJSUlpMWkgLiBhcHBlbmQgKCAoICJTZWFyY2giICwgInNlYXJjaCIgKSApCiAgaWYgNzcgLSA3NzogaWlJSWkxaTFJaWkgLiBpaTFJMWlpMUlpSWkxIC8gSTFJaUkxSUlJMTFpICogb29vT29PCiBpZiBsZW4gKCBJSTFJSWlJSUlJaTFpICkgPT0gMSA6CiAgb29PMDAwb09vMDAgPSBJSTFJSWlJSUlJaTFpIFsgMCBdIFsgMSBdCiAgcmV0dXJuIG9vTzAwMG9PbzAwCiAgaWYgMjMgLSAyMzogSWlJSTFJaUkgKyBJSSAlIGlpMUkxaWkxSWlJaTEgJSBJMSAuIG8wMG9PMG9vME8wTzAKIGkxSSA9IHhibWNndWkgLiBEaWFsb2cgKCApIC4gc2VsZWN0ICggbmFtZSAsIFsgTzAwT29vMG8wT08gWyAwIF0gZm9yIE8wME9vbzBvME9PIGluIElJMUlJaUlJSUlpMWkgXSApCiBpZiBpMUkgPT0gLSAxIDoKICByZXR1cm4gRmFsc2UKIGVsc2UgOgogIG9vTzAwMG9PbzAwID0gSUkxSUlpSUlJSWkxaSBbIGkxSSBdIFsgMSBdCiByZXR1cm4gb29PMDAwb09vMDAKIGlmIDkgLSA5OiBJaTFJIC0gb09PICUgaUlpMTEgJSBJMUlpSTFJSUkxMWkgKiBJSW9vb08wb29PMG9vIC0gaUlpMTEKZGVmIG9PME9vMDAgKCBsaW5rICkgOgogSTFpMUlpMWlJSSA9IHJlIC4gZmluZGFsbCAoICdsaXN0PSguKj8pKD86Jnxcc3wkKSsnICwgb28wbyAoIGxpbmsgKSAsIGZsYWdzID0gcmUgLiBET1RBTEwgKQogb09vT28gPSBbIF0KIGlmIGxlbiAoIEkxaTFJaTFpSUkgKSA+IDAgOgogIGZvciBPMDBPb28wbzBPTyBpbiBJMWkxSWkxaUlJIDoKICAgb09vT28gLiBhcHBlbmQgKCAncGx1Z2luOi8vcGx1Z2luLnZpZGVvLnlvdXR1YmUvcGxheWxpc3QvJXMvJyAlIHN0ciAoIEkxaTFJaTFpSUkgWyAwIF0gKSApCiAgcmV0dXJuIG9Pb09vCiBlbHNlIDoKICByZXR1cm4gTm9uZQogIGlmIDY2IC0gNjY6IG9PTwpkZWYgT29PTzBPTzBvT08gKCBsaW5rICkgOgogaWlJSSA9IEkxaWlJMUkgKCBsaW5rICkKIGlmIDk4IC0gOTg6IElJSUkgKiBJaSArIElpIC0gSUkKIEkxaTFJaTFpSUkgPSByZSAuIHNlYXJjaCAoICcvc3RyZWFtaW5nLy4qP20zdTgnICwgaWlJSSApIC4gZ3JvdXAgKCAwICkKIGlmIEkxaTFJaTFpSUkgOgogIGlmIDg1IC0gODU6IElpMUkgKiBJSSAuIElpSUkxSWlJIC0gaWkxSTFpaTFJaUlpMSAtIE9Pb09vTzBvMG8wT08gLyBJMUlpSTFJSUkxMWkKICByZXR1cm4gJ2h0dHBzOi8vZ2xvcmlhLnR2JyArIEkxaTFJaTFpSUkKIGVsc2UgOgogIHJldHVybiBOb25lCiAgaWYgNDIgLSA0MjogSUlJSSAvIGlpMUkxaWkxSWlJaTEgKyBvT08gLiBPT08gLyBpSWkxMQpkZWYgb09JaUlpSWlJaSAoIHRpdCAsIHZpZGVvVXJsICkgOgogaWkxMWlpMWlJSUkxSSA9IGludCAoIHN5cyAuIGFyZ3YgWyAxIF0gKQogb29PID0geGJtY2d1aSAuIExpc3RJdGVtICggcGF0aCA9IHZpZGVvVXJsICkKIG9vTyAuIHNldEluZm8gKCAndmlkZW8nICwgeyAndGl0bGUnIDogdGl0IH0gKQogeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIFRydWUgLCBvb08gKQogaWYgMjIgLSAyMjogaWlJSWkxaTFJaWkKZGVmIG8wME9PT28gKCBzICkgOgogcmV0dXJuICcnIC4gam9pbiAoICggYyBmb3IgYyBpbiB1bmljb2RlZGF0YSAuIG5vcm1hbGl6ZSAoICdORkQnICwgcyApIGlmIHVuaWNvZGVkYXRhIC4gY2F0ZWdvcnkgKCBjICkgIT0gJ01uJyApICkKIGlmIDYxIC0gNjE6IElpMUkKIGlmIDU3IC0gNTc6IG9vT29vTzBPT08gKiBpSWkxMSAtIGlpMUkxaWkxSWlJaTEgKyBJaUlJMUlpSSArIG9PTyAuIG9vT29vTzBPT08KZGVmIGlJMWkxMUlJSTFJaSAoIHRpdCAsIHZpZGVvVXJsICkgOgogdGl0ID0gbzAwT09PbyAoIHVuaWNvZGUgKCB0aXQgLiBkZWNvZGUgKCAndXRmLTgnICkgKSApCiBpZiA5NyAtIDk3OiBJSW9vb08wb29PMG9vICUgSUkgLSBvbyAvIGkxaUkxICogb09PICUgb28KIEkxSWlJMTExMTExMSAsIElpMTFJMTFJaTExSSA9IG9zIC4gcGF0aCAuIHNwbGl0ZXh0ICggdmlkZW9VcmwgKQogb29vT08wT08wICwgSUkxSUkxSTExID0gb3MgLiBwYXRoIC4gc3BsaXRleHQgKCB0aXQgKQogaWYgMzQgLSAzNDogSWlJSTFJaUkgKiBJMSAtIEkxIC4gSWlJSTFJaUkKIGlmIDU2IC0gNTY6IGlpMUkxaWkxSWlJaTEgKyBJSUlJICogb28gLSBvT08KIGlmIG5vdCBJaTExSTExSWkxMUkgYW5kIG5vdCBJSTFJSTFJMTEgOgogIElpMTFJMTFJaTExSSA9ICcuYXZpJwogIGlmIDg4IC0gODg6IElpSUkxaTFJIC4gb28gKyBvb09vb08wT09PIC4gbzAwb08wb28wTzBPMCAqIGlpSUlpMWkxSWlpICsgSWlJSTFJaUkKIGlmIG5vdCB0aXQgLiBlbmRzd2l0aCAoIElpMTFJMTFJaTExSSApIDoKICB0aXQgPSB0aXQgKyBJaTExSTExSWkxMUkKICBpZiA2NCAtIDY0OiBpaTFJMWlpMUlpSWkxCiAgaWYgMTkgLSAxOTogb28gLiBvb09vb08wT09PIC0gSUkgLSBJaQogaW1wb3J0IHhibWNhZGRvbgogdHJ5IDoKICBpbXBvcnQgU2ltcGxlRG93bmxvYWRlciBhcyBkb3dubG9hZGVyCiAgZG93bmxvYWRlciA9IGRvd25sb2FkZXIgLiBTaW1wbGVEb3dubG9hZGVyICggKQogIE8wMG8wMDAwME8wMCA9IHhibWMgLiB0cmFuc2xhdGVQYXRoICggX19zZXR0aW5nc19fIC4gZ2V0U2V0dGluZyAoICdEb3dubG9hZFBhdGgnICkgKQogIGkxaTFJID0geyAidXJsIiA6IHZpZGVvVXJsIC4gc3RyaXAgKCApICwgImRvd25sb2FkX3BhdGgiIDogTzAwbzAwMDAwTzAwICwgImZpbGVuYW1lIiA6IHRpdCB9CiAgZG93bmxvYWRlciAuIGRvd25sb2FkICggdGl0ICwgaTFpMUkgKQogIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICBJaTFpSSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCAnSW5pY2lhbmRvIERlc2NhcmdhLi4uJyAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDMwMDAgKQogZXhjZXB0IDoKICB0cmFjZWJhY2sgLiBwcmludF9leGMgKCBmaWxlID0gc3lzIC4gc3Rkb3V0ICkKICBpaWkgPSAnQWRkb24gU2ltcGxlIERvd25sb2FkZXIgbm8gZW5jb250cmFkbywgcG9yIGVzbyBubyBzZSBwdWVkZSBkZXNjYXJnYXInCiAgb29PID0geGJtY2d1aSAuIExpc3RJdGVtICggaWlpICwgaWNvbkltYWdlID0gJ0RlZmF1bHRWaWRlby5wbmcnICkKICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpbnQgKCBzeXMgLiBhcmd2IFsgMSBdICkgLCBGYWxzZSAsIG9vTyApCiAgSWkxaUkgPSB4Ym1jZ3VpIC4gRGlhbG9nICggKQogIElpMWlJIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIGlpaSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDUwMDAgKQogIGlmIDI1IC0gMjU6IG8wMG9PMG9vME8wTzAgLiBvbwpkZWYgSUlpICggc2VyICwgdGl0dWxvICwgYmFzZSAsIGlkICwgdHlwZSAsIGFjdGlvbiAsIHBhcmFtcyApIDoKIGlpMTFpaTFpSUlJMUkgPSBpbnQgKCBzeXMgLiBhcmd2IFsgMSBdICkKIGlmIGFjdGlvbiA9PSAncGxheScgOgogIGFjdGlvbiA9IG9PSWlJaUlpSWkKICB0cnkgOgogICBJMTFpSWlJSWkgPSB6bGliIC4gZGVjb21wcmVzcyAoIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggSTExMUkxMUkxMTExMSAoIGJhc2UgKSApICkKICAgaWYgODMgLSA4Mzogb29Pb29PME9PTyAvIGkxaUkxICUgb09PCiAgIG9vTzAwMG9PbzAwID0gKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdKWE12UW1GelpVUmhkRzl6TDNacFpYZHpMbkJvY0Q5cFpEMGxjeVowZVhCbFBTVnonICkgKSAlICggSTExaUlpSUlpICwgaWQgLCB0eXBlICkKICAgSTFpaUkxSSAoIG9vTzAwMG9PbzAwICkKICAgaWYgNjQgLSA2NDogSUlvb29PMG9vTzBvbyAlIElpSUkxSWlJIC0gSWlJSTFpMUkKICAgSUlJaWkxSWkgPSBzcWxpdGUzIC4gY29ubmVjdCAoIGJhc2UgKQogICBPTzBvID0gSUlJaWkxSWkgLiBjdXJzb3IgKCApCiAgIGlmIHR5cGUgPT0gJ3NlcmllcycgOgogICAgaWYgOSAtIDk6IGkxaUkxIC8gbzAwb08wb28wTzBPMCAlIGlJaTExCiAgICBPTzBvIC4gZXhlY3V0ZSAoCiBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdkWEJrWVhSbElITmxjbWxsY3lCelpYUWdkbWxsZDNNOWRtbGxkM01yTVNCM2FHVnlaU0J6WlhKcFpWOXBaQ0E5SUQ4PScgKSAsCiAoIGlkICwgKSApCiAgIGVsc2UgOgogICAgaWYgNTQgLSA1NDogSWlJSTFpMUkgLyBJaUlJMWkxSSAqIE9Pb09vTzBvMG8wT08gKyBJaUlJMWkxSQogICAgT08wbyAuIGV4ZWN1dGUgKAogYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnZFhCa1lYUmxJSEJsYkdseklITmxkQ0IyYVdWM2N6MTJhV1YzY3lzeElIZG9aWEpsSUhCbGJHbGZhV1FnUFNBXycgKSAsICggaWQgLCApICkKICAgSUlJaWkxSWkgLiBjb21taXQgKCApCiAgIElJSWlpMUlpIC4gY2xvc2UgKCApCiAgZXhjZXB0IDoKICAgcGFzcwogZWxzZSA6CiAgYWN0aW9uID0gaUkxaTExSUlJMUlpCiAgdHJ5IDoKICAgaWQgPSBpZCAuIHNwbGl0ICggJy0nICkgWyAwIF0KICAgSTExaUlpSUlpID0gemxpYiAuIGRlY29tcHJlc3MgKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoIEkxMTFJMTFJMTExMTEgKCBiYXNlICkgKSApCiAgIGlmIDE5IC0gMTk6IEkxSWlJMUlJSTExaQogICBvb08wMDBvT28wMCA9ICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnSlhNdlFtRnpaVVJoZEc5ekwyUnZkMjR1Y0dod1AybGtQU1Z6Sm5SNWNHVTlKWE09JyApICkgJSAoIEkxMWlJaUlJaSAsIGlkICwgdHlwZSApCiAgIEkxaWlJMUkgKCBvb08wMDBvT28wMCApCiAgIGlmIDUzIC0gNTM6IElpSUkxaTFJICsgSUlJSSAvIElJIC0gSTFJaUkxSUlJMTFpICUgaWkxSTFpaTFJaUlpMQogICBJSUlpaTFJaSA9IHNxbGl0ZTMgLiBjb25uZWN0ICggYmFzZSApCiAgIE9PMG8gPSBJSUlpaTFJaSAuIGN1cnNvciAoICkKICAgaWYgdHlwZSA9PSAnc2VyaWVzJyA6CiAgICBpZiAyMiAtIDIyOiBJSUlJICogaWkxSTFpaTFJaUlpMSAvIG8wMG9PMG9vME8wTzAgLSBJSQogICAgT08wbyAuIGV4ZWN1dGUgKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdkWEJrWVhSbElITmxjbWxsY3lCelpYUWdaRzkzYmoxa2IzZHVLekVnZDJobGNtVWdjMlZ5YVdWZmFXUWdQU0FfJyApICwgKCBpZCAsICkgKQogICBlbHNlIDoKICAgIGlmIDU5IC0gNTk6IG8wMG9PMG9vME8wTzAKICAgIGlmIDU4IC0gNTg6IGlpMUkxaWkxSWlJaTEgKiBvb29Pb08gJSBpaUlJaTFpMUlpaSAuIElJb29vTzBvb08wb28gKiBvMDBvTzBvbzBPME8wIC8gSWkxSQogICAgT08wbyAuIGV4ZWN1dGUgKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdkWEJrWVhSbElIQmxiR2x6SUhObGRDQmtiM2R1UFdSdmQyNHJNU0IzYUdWeVpTQndaV3hwWDJsa0lEMGdQdz09JyApICwgKCBpZCAsICkgKQogICBJSUlpaTFJaSAuIGNvbW1pdCAoICkKICAgSUlJaWkxSWkgLiBjbG9zZSAoICkKICBleGNlcHQgOgogICBwYXNzCiBJSTFJSWlJSUlJaTFpID0gc2VyIC4gc3BsaXQgKCAnICcgKQogaWYgbm90IElJMUlJaUlJSUlpMWkgOgogIGlpaSA9ICdWaWRlbyBlbiBwcmVwYXJhY2lceGMzXHhiM24nCiAgb29PID0geGJtY2d1aSAuIExpc3RJdGVtICggaWlpICwgaWNvbkltYWdlID0gJ0RlZmF1bHRWaWRlby5wbmcnICkKICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgRmFsc2UgLCBvb08gKQogIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICBJaTFpSSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBpaWkgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCA1MDAwICkKICBpZiAyNSAtIDI1OiBJMUlpSTFJSUkxMWkgKyBJaSAtIGlpSUlpMWkxSWlpIC4gSWkKIHRyeSA6CiAgaW1wb3J0IHJlc29sdmV1cmwKIGV4Y2VwdCA6CiAgaW1wb3J0IHRyYWNlYmFjawogIHRyYWNlYmFjayAuIHByaW50X2V4YyAoIGZpbGUgPSBzeXMgLiBzdGRvdXQgKQogIGlpaSA9ICdBZGRvbiBzY3JpcHQubW9kdWxlLnJlc29sdmV1cmwgbm8gZW5jb250cmFkbycKICBvb08gPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBpaWkgLCBpY29uSW1hZ2UgPSAnRGVmYXVsdFZpZGVvLnBuZycgKQogIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBGYWxzZSAsIG9vTyApCiAgSWkxaUkgPSB4Ym1jZ3VpIC4gRGlhbG9nICggKQogIElpMWlJIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIGlpaSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDcwMDAgKQogIGlmIDE4IC0gMTg6IEkxSWlJMUlJSTExaSAlIG9vb09vTwogZm9yIE8wME9vbzBvME9PIGluIHhyYW5nZSAoIGxlbiAoIElJMUlJaUlJSUlpMWkgKSApIDoKICBpMWlpMSA9IG9vMG8gKCBJSTFJSWlJSUlJaTFpIFsgTzAwT29vMG8wT08gXSApCiAgaTExMTExID0gSWkxSUlpSTExaUkxICggaTFpaTEgLCBGYWxzZSApCiAgaWYgODQgLSA4NDogaWkxSTFpaTFJaUlpMSAqIGkxaUkxICogSUlvb29PMG9vTzBvbyAqIElpMUkKICBpZiA0OSAtIDQ5OiBJaUlJMWkxSSAqIElpSUkxSWlJCiAgTzBPb29PT08wTyA9IGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggdGl0dWxvICkKICBpZiA4OSAtIDg5OiBpMWlJMSAuIElpSUkxaTFJIC0gaUlpMTEKICBpZiA2IC0gNjogSUkgKyBpaTFJMWlpMUlpSWkxIC8gaTFpSTEgJSBpaTFJMWlpMUlpSWkxICogT09vT29PMG8wbzBPTwogIGlmIDE0IC0gMTQ6IElpIC0gT09vT29PMG8wbzBPTyAuIElJb29vTzBvb08wb28gKyBJMSAuIG9vT29vTzBPT08gLSBJaQogIGlmIDgzIC0gODM6IG9vb09vTyAuIGlpSUlpMWkxSWlpIC0gSTFJaUkxSUlJMTFpCiAgaWYgMiAtIDI6IEkxSWlJMUlJSTExaQogIGlmIDk2IC0gOTY6IGlpSUlpMWkxSWlpIC4gSTFJaUkxSUlJMTFpICUgaUlpMTEgLiBpaUlJaTFpMUlpaQogIGlmIDEgLSAxOiBJSW9vb08wb29PMG9vICUgT09vT29PMG8wbzBPTyAlIG9vb09vTyAuIG9PTwogIGlmIDEzIC0gMTM6IGlpMUkxaWkxSWlJaTEgKyBpSWkxMSAlIG9vCiAgaWYgMTQgLSAxNDogaUlpMTEgKyBPT29Pb08wbzBvME9PIC0gb28gLSBvMDBvTzBvbzBPME8wCiAgaWYgaTExMTExID09ICdhcicgOgogICBPMDBPMDBPb09vbyA9ICdhcmNoaXZlJwogICB0cnkgOgogICAgaUkgPSBPTyAoIE8wME8wME9vT29vICwgaTFpaTEgLCBiYXNlICkKICAgIGFjdGlvbiAoIE8wT29vT09PME8gLCBpSSApCiAgIGV4Y2VwdCBIVFRQRXJyb3IgOgogICAgaWYgTzAwT29vMG8wT08gPT0gbGVuICggSUkxSUlpSUlJSWkxaSApIC0gMSA6CiAgICAgaWlpID0gJ0VsIHNlcnZpZG9yICVzIHBhcmVjZSBjYWlkbywgaW50ZW50YWxvIG1hcyB0YXJkZScgJSBPMDBPMDBPb09vbwogICAgIG9vTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGlpaSAsIGljb25JbWFnZSA9ICdEZWZhdWx0VmlkZW8ucG5nJyApCiAgICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICAgICBJaTFpSSA9IHhibWNndWkgLiBEaWFsb2cgKCApCiAgICAgSWkxaUkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgaWlpICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9JTkZPICwgNTAwMCApCiAgICAgaW1wb3J0IHRyYWNlYmFjawogICAgIHRyYWNlYmFjayAuIHByaW50X2V4YyAoIGZpbGUgPSBzeXMgLiBzdGRvdXQgKQogICBleGNlcHQgRXhjZXB0aW9uIDoKICAgIGlmIE8wME9vbzBvME9PID09IGxlbiAoIElJMUlJaUlJSUlpMWkgKSAtIDEgOgogICAgIGlpaSA9ICdFcnJvciBjb24gc2Vydmlkb3IgJXMsIHJldmlzYSBjb25leGlvbi9kb21pbmlvJyAlIE8wME8wME9vT29vCiAgICAgb29PID0geGJtY2d1aSAuIExpc3RJdGVtICggaWlpICwgaWNvbkltYWdlID0gJ0RlZmF1bHRWaWRlby5wbmcnICkKICAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgRmFsc2UgLCBvb08gKQogICAgIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICAgICBJaTFpSSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBpaWkgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCA1MDAwICkKICAgICBpbXBvcnQgdHJhY2ViYWNrCiAgICAgdHJhY2ViYWNrIC4gcHJpbnRfZXhjICggZmlsZSA9IHN5cyAuIHN0ZG91dCApCiAgZWxpZiBpMTExMTEgPT0gJ2tiJyBvciBpMTExMTEgPT0gJ2RrJyA6CiAgIGlmIGkxMTExMSA9PSAna2InIDoKICAgIE8wME8wME9vT29vID0gJ2stYmFnaS5jb20nCiAgICBPTzBvTyA9ICdLYWJhZ2knCiAgIGVsc2UgOgogICAgTzAwTzAwT29Pb28gPSAnZGlza29rb3NtaWtvLm14JwogICAgT08wb08gPSAnRGlza29rb3NtaWNvJwogICB0cnkgOgogICAgaUkgPSBpMWlJSUlpaTEgKCBPMDBPMDBPb09vbyAsIGkxaWkxICwgYmFzZSApCiAgICBpZiBpSSA9PSAnJyBhbmQgTzAwT29vMG8wT08gPT0gbGVuICggSUkxSUlpSUlJSWkxaSApIC0gMSA6CiAgICAgaWlpID0gJ0VsIGVubGFjZSB5YSBubyBleGlzdGUnCiAgICAgb29PID0geGJtY2d1aSAuIExpc3RJdGVtICggaWlpICwgaWNvbkltYWdlID0gJ0RlZmF1bHRWaWRlby5wbmcnICkKICAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgRmFsc2UgLCBvb08gKQogICAgIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICAgICBJaTFpSSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBpaWkgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCA1MDAwICkKICAgICBicmVhawogICAgZWxpZiBpSSAuIGVuZHN3aXRoICggJ05vTG9naW4nICkgYW5kIE8wME9vbzBvME9PID09IGxlbiAoIElJMUlJaUlJSUlpMWkgKSAtIDEgOgogICAgIHhibWNndWkgLiBEaWFsb2cgKCApIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsICclczogVXN1YXJpbyAoJXMpIHkgQ29udHJhc2XDsWEgaW5jb3JyZWN0YXMnICUgKCBPTzBvTyAsIGlJIC4gc3BsaXQgKCAnIyMnICkgWyAwIF0gKSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fV0FSTklORyAsIDgwMDAgKQogICAgIGJyZWFrCiAgICBlbGlmIG5vdCBpSSAuIGVuZHN3aXRoICggJ05vTG9naW4nICkgOgogICAgIGFjdGlvbiAoIE8wT29vT09PME8gLCBpMWlJSUlpaTEgKCBPMDBPMDBPb09vbyAsIGkxaWkxICwgYmFzZSApICkKICAgICBicmVhawogICBleGNlcHQgSFRUUEVycm9yIDoKICAgIGlmIE8wME9vbzBvME9PID09IGxlbiAoIElJMUlJaUlJSUlpMWkgKSAtIDEgOgogICAgIGlpaSA9ICdFbCBzZXJ2aWRvciAlcyBwYXJlY2UgY2FpZG8sIGludGVudGFsbyBtYXMgdGFyZGUnICUgTzAwTzAwT29Pb28KICAgICBvb08gPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBpaWkgLCBpY29uSW1hZ2UgPSAnRGVmYXVsdFZpZGVvLnBuZycgKQogICAgIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBGYWxzZSAsIG9vTyApCiAgICAgSWkxaUkgPSB4Ym1jZ3VpIC4gRGlhbG9nICggKQogICAgIElpMWlJIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIGlpaSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDUwMDAgKQogICAgIGltcG9ydCB0cmFjZWJhY2sKICAgICB0cmFjZWJhY2sgLiBwcmludF9leGMgKCBmaWxlID0gc3lzIC4gc3Rkb3V0ICkKICAgZXhjZXB0IEV4Y2VwdGlvbiA6CiAgICBpZiBPMDBPb28wbzBPTyA9PSBsZW4gKCBJSTFJSWlJSUlJaTFpICkgLSAxIDoKICAgICBpaWkgPSAnRXJyb3IgY29uIHNlcnZpZG9yICVzLCByZXZpc2EgY29uZXhpb24vZG9taW5pbycgJSBPMDBPMDBPb09vbwogICAgIG9vTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGlpaSAsIGljb25JbWFnZSA9ICdEZWZhdWx0VmlkZW8ucG5nJyApCiAgICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICAgICBJaTFpSSA9IHhibWNndWkgLiBEaWFsb2cgKCApCiAgICAgSWkxaUkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgaWlpICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9JTkZPICwgNTAwMCApCiAgICAgaW1wb3J0IHRyYWNlYmFjawogICAgIHRyYWNlYmFjayAuIHByaW50X2V4YyAoIGZpbGUgPSBzeXMgLiBzdGRvdXQgKQogIGVsaWYgaTExMTExID09ICdkaycgOgogICB0cnkgOgogICAgaUkgPSBPbzAwT29vTyAoIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ2FIUjBjRG92TDJScGMydHZhMjl6YldscmJ5NXRlQT09JyApICwgaTFpaTEgKQogICAgaWYgaUkgPT0gJycgYW5kIE8wME9vbzBvME9PID09IGxlbiAoIElJMUlJaUlJSUlpMWkgKSAtIDEgOgogICAgIGlpaSA9ICdFbCBlbmxhY2UgeWEgbm8gZXhpc3RlJwogICAgIG9vTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGlpaSAsIGljb25JbWFnZSA9ICdEZWZhdWx0VmlkZW8ucG5nJyApCiAgICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICAgICBJaTFpSSA9IHhibWNndWkgLiBEaWFsb2cgKCApCiAgICAgSWkxaUkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgaWlpICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9JTkZPICwgNTAwMCApCiAgICAgYnJlYWsKICAgIGVsaWYgaUkgIT0gJycgOgogICAgIGFjdGlvbiAoIE8wT29vT09PME8gLCBpSSApCiAgICAgYnJlYWsKICAgZXhjZXB0IEhUVFBFcnJvciA6CiAgICBpZiBPMDBPb28wbzBPTyA9PSBsZW4gKCBJSTFJSWlJSUlJaTFpICkgLSAxIDoKICAgICBpaWkgPSAnRWwgc2Vydmlkb3IgJXMgcGFyZWNlIGNhaWRvLCBpbnRlbnRhbG8gbWFzIHRhcmRlJyAlICdkaXNrb2tvc21pY28nCiAgICAgb29PID0geGJtY2d1aSAuIExpc3RJdGVtICggaWlpICwgaWNvbkltYWdlID0gJ0RlZmF1bHRWaWRlby5wbmcnICkKICAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgRmFsc2UgLCBvb08gKQogICAgIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICAgICBJaTFpSSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBpaWkgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCA1MDAwICkKICAgZXhjZXB0IEV4Y2VwdGlvbiA6CiAgICBpZiBPMDBPb28wbzBPTyA9PSBsZW4gKCBJSTFJSWlJSUlJaTFpICkgLSAxIDoKICAgICBpaWkgPSAnRXJyb3IgY29uIHNlcnZpZG9yICVzLCByZXZpc2EgY29uZXhpb24vZG9taW5pbycgJSAnZGlza29rb3NtaWNvJwogICAgIG9vTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGlpaSAsIGljb25JbWFnZSA9ICdEZWZhdWx0VmlkZW8ucG5nJyApCiAgICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICAgICBJaTFpSSA9IHhibWNndWkgLiBEaWFsb2cgKCApCiAgICAgSWkxaUkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgaWlpICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9JTkZPICwgNTAwMCApCiAgZWxpZiBpMTExMTEgPT0gJ3JlJyBvciBpMTExMTEgPT0gJ3l0JyBvciBpMTExMTEgPT0gJ3N0YW5kYXJkJyA6CiAgIGlmIGkxMTExMSA9PSAneXQnIDoKICAgIGlJID0gb08wT28wMCAoIGkxaWkxICkKICAgZWxzZSA6CiAgICBpSSA9IGkxaWkxCiAgIGFjdGlvbiAoIE8wT29vT09PME8gLCBpSSApCiAgIGJyZWFrCiAgZWxpZiBpMTExMTEgPT0gJ2dsb3JpYScgOgogICBpSSA9IE9vT08wT08wb09PICggaTFpaTEgKQogICBpZiBpSSAhPSBOb25lIDoKICAgIGFjdGlvbiAoIE8wT29vT09PME8gLCBpSSApCiAgIGVsc2UgOgogICAgaWlpID0gJ0Vycm9yIGNvbiBzZXJ2aWRvciAlcywgcmV2aXNhIGNvbmV4aW9uL2RvbWluaW8nICUgJ2dsb3JpYS50dicKICAgIG9vTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGlpaSAsIGljb25JbWFnZSA9ICdEZWZhdWx0VmlkZW8ucG5nJyApCiAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgRmFsc2UgLCBvb08gKQogICAgSWkxaUkgPSB4Ym1jZ3VpIC4gRGlhbG9nICggKQogICAgSWkxaUkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgaWlpICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9JTkZPICwgNTAwMCApCiAgIGJyZWFrCiAgZWxpZiBpMTExMTEgPT0gJ3NjJyA6CiAgIG9vTzAwMG9PbzAwID0gaTFpaTEKICAgdHJ5IDoKICAgIGlpSUkgPSBJMWlpSTFJICggaTFpaTEgKQogICAgaWYgJzxoMT5GaWxlIE5vdCBGb3VuZDwvaDE+JyBpbiBpaUlJIG9yICc8aDE+QXJjaGl2byBubyBlbmNvbnRyYWRvPC9oMT4nIGluIGlpSUkgb3IgaWlJSSA9PSAnTm90IEZvdW5kJyA6CiAgICAgaWYgTzAwT29vMG8wT08gPT0gbGVuICggSUkxSUlpSUlJSWkxaSApIC0gMSA6CiAgICAgIGlpaSA9ICdFbCBlbmxhY2UgeWEgbm8gZXhpc3RlJwogICAgICBvb08gPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBpaWkgLCBpY29uSW1hZ2UgPSAnRGVmYXVsdFZpZGVvLnBuZycgKQogICAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgRmFsc2UgLCBvb08gKQogICAgICBJaTFpSSA9IHhibWNndWkgLiBEaWFsb2cgKCApCiAgICAgIElpMWlJIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIGlpaSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDUwMDAgKQogICAgZWxzZSA6CiAgICAgaUkgPSByZSAuIGZpbmRhbGwgKCAnZmlsZVxcOiAiKFteIl0rKSInICwgaWlJSSAsIGZsYWdzID0gcmUgLiBET1RBTEwgKQogICAgIGlmIG5vdCBpSSA6CiAgICAgIG9PTzBvb29vID0gJycKICAgICAgbzAgPSByZSAuIGZpbmRhbGwgKCAnPGlucHV0Lio/bmFtZT0iKFteIl0rKSIuKj92YWx1ZT0iKFteIl0qKSI+JyAsIGlpSUkgLCBmbGFncyA9IHJlIC4gRE9UQUxMICkKICAgICAgZm9yIE8wMDAwbzAgLCBvb29vbzAgaW4gbzAgOgogICAgICAgb09PMG9vb28gKz0gTzAwMDBvMCArICc9JyArIG9vb29vMCArICcmJwogICAgICAgaWYgNyAtIDc6IElpSUkxaTFJIC8gb28KICAgICAgb09PMG9vb28gPSBvT08wb29vbyAuIHJlcGxhY2UgKCAnb3A9ZG93bmxvYWQxJyAsICdvcD1kb3dubG9hZDInICkKICAgICAgaWlJSSA9IEkxaWlJMUkgKCBvb08wMDBvT28wMCAsIHBvc3QgPSBvT08wb29vbyApCiAgICAgIGlmICdpZD0ianVzdGFub3RpY2UiJyBpbiBpaUlJIDoKICAgICAgIHJldHVybiBbIF0KICAgICAgaUkgPSByZSAuIGZpbmRhbGwgKCAnZmlsZVxcOiAiKFteIl0rKSInICwgaWlJSSAsIGZsYWdzID0gcmUgLiBET1RBTEwgKQogICAgIHRyeSA6CiAgICAgIGFjdGlvbiAoIE8wT29vT09PME8gLCBpSSBbIDAgXSApCiAgICAgIGJyZWFrCiAgICAgZXhjZXB0IDoKICAgICAgcGFzcwogICBleGNlcHQgSFRUUEVycm9yIDoKICAgIGlmIE8wME9vbzBvME9PID09IGxlbiAoIElJMUlJaUlJSUlpMWkgKSAtIDEgOgogICAgIGlpaSA9ICdFbCBzZXJ2aWRvciAlcyBwYXJlY2UgY2FpZG8sIGludGVudGFsbyBtYXMgdGFyZGUnICUgJ3N0cmVhbWNsb3VkJwogICAgIG9vTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGlpaSAsIGljb25JbWFnZSA9ICdEZWZhdWx0VmlkZW8ucG5nJyApCiAgICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICAgICBJaTFpSSA9IHhibWNndWkgLiBEaWFsb2cgKCApCiAgICAgSWkxaUkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgaWlpICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9JTkZPICwgNTAwMCApCiAgIGV4Y2VwdCBFeGNlcHRpb24gOgogICAgaWYgTzAwT29vMG8wT08gPT0gbGVuICggSUkxSUlpSUlJSWkxaSApIC0gMSA6CiAgICAgaWlpID0gJ0Vycm9yIGNvbiBzZXJ2aWRvciAlcywgcmV2aXNhIGNvbmV4aW9uL2RvbWluaW8nICUgJ3N0cmVhbWNsb3VkJwogICAgIG9vTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGlpaSAsIGljb25JbWFnZSA9ICdEZWZhdWx0VmlkZW8ucG5nJyApCiAgICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICAgICBJaTFpSSA9IHhibWNndWkgLiBEaWFsb2cgKCApCiAgICAgSWkxaUkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgaWlpICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9JTkZPICwgNTAwMCApCiAgICAgaWYgNiAtIDY6IEkxIC8gT09vT29PMG8wbzBPTyAlIEkxSWlJMUlJSTExaSAvIG9vCiAgZWxpZiBpMTExMTEgPT0gJ3RrJyA6CiAgIG9vTzAwMG9PbzAwID0gaTFpaTEKICAgb08wbyA9IGRpY3QgKCApCiAgIG9PMG8gWwogIlVzZXItQWdlbnQiIF0gPSAiTW96aWxsYS81LjAgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzcwLjAuMzE2My4xMDAgU2FmYXJpLzUzNy4zNiIKICAgb08wbyBbCiAiQWNjZXB0IiBdID0gInRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgiCiAgIG9PMG8gWyAiQWNjZXB0LUxhbmd1YWdlIiBdID0gImVzLUVTLGVzO3E9MC44LGVuLVVTO3E9MC41LGVuO3E9MC4zIgogICBvTzBvIFsgIkFjY2VwdC1DaGFyc2V0IiBdID0gIlVURi04IgogICBvTzBvIFsgIkFjY2VwdC1FbmNvZGluZyIgXSA9ICJnemlwIgogICBpZiAnYmInIGluIHBhcmFtcyBhbmQgJ21tJyBpbiBwYXJhbXMgOgogICAgaUkgPSAnJXMmYmI9JXMmbW09JXN8VXNlci1BZ2VudD0lcycgJSAoIG9vTzAwMG9PbzAwICwgcGFyYW1zIFsgJ2JiJyBdICwgcGFyYW1zIFsgJ21tJyBdICwgb08wbyApCiAgIGVsc2UgOgogICAgaUkgPSAnJXN8VXNlci1BZ2VudD0lcycgJSAoIG9vTzAwMG9PbzAwICwgb08wbyApCiAgIHRyeSA6CiAgICBpSUlpID0geGJtY2d1aSAuIExpc3RJdGVtICggTzBPb29PT08wTyApCiAgICBpSUlpIC4gc2V0UGF0aCAoIGlJICkKICAgIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBUcnVlICwgaUlJaSApCiAgIGV4Y2VwdCA6CiAgICBpaWkgPSAnRXJyb3IgY29uIHNlcnZpZG9yICVzLCByZXZpc2EgY29uZXhpb24vZG9taW5pbycgJSAndGsnCiAgICBvb08gPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBpaWkgLCBpY29uSW1hZ2UgPSAnRGVmYXVsdFZpZGVvLnBuZycgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICAgIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICAgIElpMWlJIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIGlpaSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDUwMDAgKQogICAgaWYgMzMgLSAzMzogSWlJSTFpMUkgJSBvb29Pb08gKiBJaUlJMUlpSSAuIElJIC4gSTFJaUkxSUlJMTFpCiAgZWxpZiAnZ29maWxlLmlvJyBpbiBpMWlpMSA6CiAgIG9PMG8wTyA9IGkxaWkxIFsgaTFpaTEgLiBmaW5kICggJz0nICkgKyAxIDogXQogICBJSUkxaTFJMTFpID0gJ2h0dHBzOi8vYXBpdjIuZ29maWxlLmlvL2dldFNlcnZlcj9jPScgKyBvTzBvME8KICAgTzBvTyA9IHJlcXVlc3RzIC4gZ2V0ICggSUlJMWkxSTExaSApCiAgIGlpaWkxMTExSWkgPSBPMG9PIC4ganNvbiAoICkgWyAnZGF0YScgXSBbICdzZXJ2ZXInIF0KICAgaTFpaTEgPSAnaHR0cHM6Ly8nICsgaWlpaTExMTFJaSArICcuZ29maWxlLmlvL2dldFVwbG9hZD9jPScgKyBvTzBvME8KICAgTzBvTyA9IHJlcXVlc3RzIC4gZ2V0ICggaTFpaTEgKQogICBpSSA9IE8wb08gLiBqc29uICggKSBbICdkYXRhJyBdIFsgJ2ZpbGVzJyBdIFsgJzAnIF0gWyAnbGluaycgXQogICB0cnkgOgogICAgaUlJaSA9IHhibWNndWkgLiBMaXN0SXRlbSAoIE8wT29vT09PME8gKQogICAgaUlJaSAuIHNldFBhdGggKCBpSSApCiAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgVHJ1ZSAsIGlJSWkgKQogICBleGNlcHQgOgogICAgaWlpID0gJ0Vycm9yIGNvbiBzZXJ2aWRvciAlcywgcmV2aXNhIGNvbmV4aW9uL2RvbWluaW8nICUgJ0gyNjUnCiAgICBvb08gPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBpaWkgLCBpY29uSW1hZ2UgPSAnRGVmYXVsdFZpZGVvLnBuZycgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICAgIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICAgIElpMWlJIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIGlpaSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDUwMDAgKQogICAgaWYgNTEgLSA1MTogaTFpSTEgLiBJMUlpSTFJSUkxMWkgLSBJMQogIGVsaWYgJ25vZmlsZS5pbycgaW4gaTFpaTEgOgogICBJaUkxaWkxMTFJMTExID0gcmVxdWVzdHMgLiBnZXQgKCBpMWlpMSApCiAgIGkxaWkxID0gcmUgLiBzZWFyY2ggKCAnJycoPzogaHJlZj1bJyJdKShbXCV8XCt8Oi8uQS16PzxfJlxzPT4wLTk7LV0rKSg/OiIgY2xhc3M9ImJ0biknJycgLCBJaUkxaWkxMTFJMTExIC4gdGV4dCApIC4gZ3JvdXAgKCAxICkKICAgaUkgPSAiaHR0cHM6Ly9ub2ZpbGUuaW8vIiArIGkxaWkxCiAgIHRyeSA6CiAgICBpSUlpID0geGJtY2d1aSAuIExpc3RJdGVtICggTzBPb29PT08wTyApCiAgICBpSUlpIC4gc2V0UGF0aCAoIGlJICkKICAgIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBUcnVlICwgaUlJaSApCiAgIGV4Y2VwdCA6CiAgICBpaWkgPSAnRXJyb3IgY29uIHNlcnZpZG9yICVzLCByZXZpc2EgY29uZXhpb24vZG9taW5pbycgJSAnSDI2NScKICAgIG9vTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGlpaSAsIGljb25JbWFnZSA9ICdEZWZhdWx0VmlkZW8ucG5nJyApCiAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgRmFsc2UgLCBvb08gKQogICAgSWkxaUkgPSB4Ym1jZ3VpIC4gRGlhbG9nICggKQogICAgSWkxaUkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgaWlpICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9JTkZPICwgNTAwMCApCiAgZWxpZiAncGl4ZWxkcmFpbicgaW4gaTFpaTEgOgogICBvTzBvME8gPSBpMWlpMSBbIGkxaWkxIC4gZmluZCAoICd1LycgKSArIDIgOiBdCiAgIGlJID0gJ2h0dHBzOi8vcGl4ZWxkcmFpbi5jb20vYXBpL2ZpbGUvJyArIG9PMG8wTyArICc/ZG93bmxvYWQnCiAgIHRyeSA6CiAgICBpSUlpID0geGJtY2d1aSAuIExpc3RJdGVtICggTzBPb29PT08wTyApCiAgICBpSUlpIC4gc2V0UGF0aCAoIGlJICkKICAgIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBUcnVlICwgaUlJaSApCiAgIGV4Y2VwdCA6CiAgICBpaWkgPSAnRXJyb3IgY29uIHNlcnZpZG9yICVzLCByZXZpc2EgY29uZXhpb24vZG9taW5pbycgJSAnSDI2NScKICAgIG9vTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGlpaSAsIGljb25JbWFnZSA9ICdEZWZhdWx0VmlkZW8ucG5nJyApCiAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgRmFsc2UgLCBvb08gKQogICAgSWkxaUkgPSB4Ym1jZ3VpIC4gRGlhbG9nICggKQogICAgSWkxaUkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgaWlpICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9JTkZPICwgNTAwMCApCiAgZWxpZiAnbXktZmlsZXMucnUnIGluIGkxaWkxIDoKICAgSWlJMWlpMTExSTExMSA9IHJlcXVlc3RzIC4gZ2V0ICggaTFpaTEgLCBhbGxvd19yZWRpcmVjdHMgPSBGYWxzZSAsIHZlcmlmeSA9IEZhbHNlICkKICAgT29PbyA9IHJlIC4gc2VhcmNoICggJycnKD86InVybCIgaHJlZj1bJyJdKShbXCV8XCgpfDovLkEtej88XyZccz0+MC05Oy1dKykoPzopJycnICwgSWlJMWlpMTExSTExMSAuIHRleHQgKSAuIGdyb3VwICggMSApCiAgIElpSTFpaTExMUkxMTEgPSByZXF1ZXN0cyAuIGdldCAoIE9vT28gLCBoZWFkZXJzID0geyAnQ29va2llJyA6ICdzZXNzaW9uX3Rva2VuPWQwZjY2c2psOTVxY2Rnd2ZiNnMwZnpvOHl4dTY5anQ0JyAsICdSZWZlcmVyJyA6IGkxaWkxICwgJ0FjY2VwdCcgOiAnKi8qJyB9ICwgYWxsb3dfcmVkaXJlY3RzID0gRmFsc2UgLCB2ZXJpZnkgPSBGYWxzZSApCiAgIGlJID0gSWlJMWlpMTExSTExMSAuIGhlYWRlcnMgWyAnTG9jYXRpb24nIF0KICAgdHJ5IDoKICAgIGlJSWkgPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBPME9vb09PTzBPICkKICAgIGlJSWkgLiBzZXRQYXRoICggaUkgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIFRydWUgLCBpSUlpICkKICAgZXhjZXB0IDoKICAgIGlpaSA9ICdFcnJvciBjb24gc2Vydmlkb3IgJXMsIHJldmlzYSBjb25leGlvbi9kb21pbmlvJyAlICdIMjY1JwogICAgb29PID0geGJtY2d1aSAuIExpc3RJdGVtICggaWlpICwgaWNvbkltYWdlID0gJ0RlZmF1bHRWaWRlby5wbmcnICkKICAgIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBGYWxzZSAsIG9vTyApCiAgICBJaTFpSSA9IHhibWNndWkgLiBEaWFsb2cgKCApCiAgICBJaTFpSSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBpaWkgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCA1MDAwICkKICAgIGlmIDMgLSAzOiBvT08gLSBJaUlJMUlpSSArIG9vT29vTzBPT08gJSBvMDBvTzBvbzBPME8wIC4gb09PCiAgZWxpZiAnZ2xvYmFsLWZpbGVzLm5ldCcgaW4gaTFpaTEgOgogICBJaUkxaWkxMTFJMTExID0gcmVxdWVzdHMgLiBnZXQgKCBpMWlpMSAsIGFsbG93X3JlZGlyZWN0cyA9IEZhbHNlICwgdmVyaWZ5ID0gRmFsc2UgKQogICBPb09vID0gcmUgLiBzZWFyY2ggKCAnJycoPzoidXJsIiBocmVmPVsnIl0pKFtcJXxcKCl8Oi8uQS16PzxfJlxzPT4wLTk7LV0rKSg/OiknJycgLCBJaUkxaWkxMTFJMTExIC4gdGV4dCApIC4gZ3JvdXAgKCAxICkKICAgSWlJMWlpMTExSTExMSA9IHJlcXVlc3RzIC4gZ2V0ICggT29PbyAsIGhlYWRlcnMgPSB7ICdDb29raWUnIDogJ3Nlc3Npb25fdG9rZW49ZDBmNjZzamw5NXFjZGd3ZmI2czBmem84eXh1NjlqdDQnICwgJ1JlZmVyZXInIDogaTFpaTEgLCAnQWNjZXB0JyA6ICcqLyonIH0gLCBhbGxvd19yZWRpcmVjdHMgPSBGYWxzZSAsIHZlcmlmeSA9IEZhbHNlICkKICAgaUkgPSBJaUkxaWkxMTFJMTExIC4gaGVhZGVycyBbICdMb2NhdGlvbicgXQogICB0cnkgOgogICAgaUlJaSA9IHhibWNndWkgLiBMaXN0SXRlbSAoIE8wT29vT09PME8gKQogICAgaUlJaSAuIHNldFBhdGggKCBpSSApCiAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgVHJ1ZSAsIGlJSWkgKQogICBleGNlcHQgOgogICAgaWlpID0gJ0Vycm9yIGNvbiBzZXJ2aWRvciAlcywgcmV2aXNhIGNvbmV4aW9uL2RvbWluaW8nICUgJ0gyNjUnCiAgICBvb08gPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBpaWkgLCBpY29uSW1hZ2UgPSAnRGVmYXVsdFZpZGVvLnBuZycgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICAgIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICAgIElpMWlJIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIGlpaSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDUwMDAgKQogIGVsaWYgJ2RlZ29vJyBpbiBpMWlpMSA6CiAgIGlmICJkZWdvby5jb20vdy8iIGluIGkxaWkxIDoKICAgIElpSTFpaTExMUkxMTEgPSByZXF1ZXN0cyAuIGdldCAoIGkxaWkxICkKICAgIGlJID0gcmUgLiBmaW5kYWxsICggJycnKD86IGhyZWY9WyciXSkoW1wlfFwrfDovLkEtej88XyZccz0+MC05Oy1dKykoPzpcIiB0YXJnZXQ9XCJfc2VsZlwiPkRvd25sb2FkKScnJyAsIElpSTFpaTExMUkxMTEgLiB0ZXh0ICkKICAgIGlmIGxlbiAoIGlJICkgPiAxIDoKICAgICBJaWlJaUlpSUkgPSByZSAuIGZpbmRhbGwgKCAnJycoPzo8dHI+PHRkPikoW1wlfFwmfFwjfFw7fFwrfDovLkEtej88XyZccz0+MC05Oy1dKykoPzpcLm1rdnxcLm1wNHxcLmF2aSkoPzo8L3RkPjx0ZCBjbGFzcz0pJycnICwgSWlJMWlpMTExSTExMSAuIHRleHQgKQogICAgIG8wbzAwb28wT28wb28gPSB6aXAgKCBJaWlJaUlpSUkgLCBpSSApCiAgICAgbzBvMDBvbzBPbzBvbyA9IHNldCAoIG8wbzAwb28wT28wb28gKQogICAgIG8wbzAwb28wT28wb28gPSBzb3J0ZWQgKCBvMG8wMG9vME9vMG9vICkKICAgICBJaWlJaUlpSUkgLCBpSSA9IHppcCAoICogbzBvMDBvbzBPbzBvbyApCiAgICAgaWlvTzBvbzAwTzBPID0gWyBdCiAgICAgZm9yIGlpSUlpSUlJaSBpbiBJaWlJaUlpSUkgOgogICAgICBPb29vbzBvMG9vME8gPSBIVE1MUGFyc2VyIC4gSFRNTFBhcnNlciAoICkgLiB1bmVzY2FwZSAoIGlpSUlpSUlJaSApCiAgICAgIGlpb08wb28wME8wTyAuIGFwcGVuZCAoIE9vb29vMG8wb28wTyApCiAgICAgaTFpaUkgPSB4Ym1jZ3VpIC4gRGlhbG9nICggKSAuIHNlbGVjdCAoICJTZWxlY2Npb25hIHVuIGVubGFjZSIgLCBpaW9PMG9vMDBPME8gKQogICAgIGlJID0gaUkgWyBpMWlpSSBdCiAgICBlbHNlIDoKICAgICBpSSA9IGlJIFsgMCBdCiAgIGVsc2UgOgogICAgSWlJMWlpMTExSTExMSA9IHJlcXVlc3RzIC4gZ2V0ICggaTFpaTEgLCBoZWFkZXJzID0geyAnSG9zdCcgOiAnY2xvdWQuZGVnb28uY29tJyAsICdBY2NlcHQnIDogJyovKicgLCAnVXNlci1BZ2VudCcgOiAnTW96aWxsYS81LjAgKGNvbXBhdGlibGU7IFJpZ29yLzEuMC4wOyBodHRwOi8vcmlnb3IuY29tKScgfSAsIGFsbG93X3JlZGlyZWN0cyA9IEZhbHNlICkKICAgIE9vT28gPSBJaUkxaWkxMTFJMTExIC4gaGVhZGVycyBbICdMb2NhdGlvbicgXQogICAgaUlpSUkxaUlJSSA9IE9vT28gWyBPb09vIC4gZmluZCAoICdodHRwczovLycgKSArIDggOiBPb09vIC4gZmluZCAoICdsaW5rJyApICsgNCBdCiAgICBpaUkxaTExSTFJaWkgPSByZXF1ZXN0cyAuIGdldCAoIE9vT28gLCBoZWFkZXJzID0geyAnSG9zdCcgOiBpSWlJSTFpSUlJICwgJ0FjY2VwdCcgOiAnKi8qJyAsICdVc2VyLUFnZW50JyA6ICdNb3ppbGxhLzUuMCAoY29tcGF0aWJsZTsgUmlnb3IvMS4wLjA7IGh0dHA6Ly9yaWdvci5jb20pJyB9ICwgYWxsb3dfcmVkaXJlY3RzID0gRmFsc2UgKQogICAgT28wTzBPb08wb28gPSByZSAuIHNlYXJjaCAoICcnJyg/OndpbmRvdy50b3AubG9jYXRpb24gPSB2YWxpZGF0ZVwoXCIpKFtcJXxcK3w6Ly5BLXo/PF8mXHM9PjAtOTstXSspJycnICwgaWlJMWkxMUkxSWlpIC4gdGV4dCApIC4gZ3JvdXAgKCAxICkKICAgIE9PTzBvT08wTzBvTzAgPSByZXF1ZXN0cyAuIGdldCAoIE9vME8wT29PMG9vICkKICAgIGlJID0gcmUgLiBmaW5kYWxsICggJycnKD86IGhyZWY9WyciXSkoW1wlfFwrfDovLkEtej88XyZccz0+MC05Oy1dKykoPzpcIiB0YXJnZXQ9XCJfc2VsZlwiPkRvd25sb2FkKScnJyAsIE9PTzBvT08wTzBvTzAgLiB0ZXh0ICkKICAgIGlmIGxlbiAoIGlJICkgPiAxIDoKICAgICBJaWlJaUlpSUkgPSByZSAuIGZpbmRhbGwgKCAnJycoPzo8dHI+PHRkPikoW1wlfFwmfFwjfFw7fFwrfDovLkEtej88XyZccz0+MC05Oy1dKykoPzpcLm1rdnxcLm1wNHxcLmF2aSkoPzo8L3RkPjx0ZCBjbGFzcz0pJycnICwgT09PMG9PTzBPMG9PMCAuIHRleHQgKQogICAgIG8wbzAwb28wT28wb28gPSB6aXAgKCBJaWlJaUlpSUkgLCBpSSApCiAgICAgbzBvMDBvbzBPbzBvbyA9IHNldCAoIG8wbzAwb28wT28wb28gKQogICAgIG8wbzAwb28wT28wb28gPSBzb3J0ZWQgKCBvMG8wMG9vME9vMG9vICkKICAgICBJaWlJaUlpSUkgLCBpSSA9IHppcCAoICogbzBvMDBvbzBPbzBvbyApCiAgICAgaWlvTzBvbzAwTzBPID0gWyBdCiAgICAgZm9yIGlpSUlpSUlJaSBpbiBJaWlJaUlpSUkgOgogICAgICBPb29vbzBvMG9vME8gPSBIVE1MUGFyc2VyIC4gSFRNTFBhcnNlciAoICkgLiB1bmVzY2FwZSAoIGlpSUlpSUlJaSApCiAgICAgIGlpb08wb28wME8wTyAuIGFwcGVuZCAoIE9vb29vMG8wb28wTyApCiAgICAgaTFpaUkgPSB4Ym1jZ3VpIC4gRGlhbG9nICggKSAuIHNlbGVjdCAoICJTZWxlY2Npb25hIHVuIGVubGFjZSIgLCBpaW9PMG9vMDBPME8gKQogICAgIGlJID0gaUkgWyBpMWlpSSBdCiAgICBlbHNlIDoKICAgICBpSSA9IGlJIFsgMCBdCiAgIHRyeSA6CiAgICBpSUlpID0geGJtY2d1aSAuIExpc3RJdGVtICggTzBPb29PT08wTyApCiAgICBpSUlpIC4gc2V0UGF0aCAoIGlJICkKICAgIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBUcnVlICwgaUlJaSApCiAgIGV4Y2VwdCA6CiAgICBpaWkgPSAnRXJyb3IgY29uIHNlcnZpZG9yICVzLCByZXZpc2EgY29uZXhpb24vZG9taW5pbycgJSAnSDI2NScKICAgIG9vTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGlpaSAsIGljb25JbWFnZSA9ICdEZWZhdWx0VmlkZW8ucG5nJyApCiAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgRmFsc2UgLCBvb08gKQogICAgSWkxaUkgPSB4Ym1jZ3VpIC4gRGlhbG9nICggKQogICAgSWkxaUkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgaWlpICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9JTkZPICwgNTAwMCApCiAgZWxpZiAnZmlsZXNjZG4ubmV0JyBpbiBpMWlpMSA6CiAgIGlmIG5vdCAneGZzcycgaW4gbG9jYWxzICggKSA6CiAgICBJSWlpSSA9ICdodHRwczovL2ZpbGVzY2RuLm5ldCcKICAgIGlpMTFpMUkxMWkgPSBbIFsgJ1BhbDAxJyAsICdwYWwwMTIwMTknIF0gLCBbICdQYWwwMicgLCAncGFsMDIyMDE5JyBdIF0KICAgIGlJMUlpSTFJSWlJaSA9IHJhbmRvbSAuIHJhbmRpbnQgKCAwICwgbGVuICggaWkxMWkxSTExaSApIC0gMSApCiAgICBpaUlJID0geyAnb3AnIDogJ2xvZ2luJyAsCiAncmFuZCcgOiAnJyAsCiAncmVkaXJlY3QnIDogJycgLAogJ2xvZ2luJyA6IGlpMTFpMUkxMWkgWyBpSTFJaUkxSUlpSWkgXSBbIDAgXSAsCiAncGFzc3dvcmQnIDogaWkxMWkxSTExaSBbIGlJMUlpSTFJSWlJaSBdIFsgMSBdIH0KICAgIEkxMUkgPSByZXF1ZXN0cyAuIHBvc3QgKCBJSWlpSSAsIGRhdGEgPSBpaUlJICwgYWxsb3dfcmVkaXJlY3RzID0gRmFsc2UgKQogICAgT29vbyA9IHJlIC4gZmluZGFsbCAoICcnJyg/Onhmc3M9KShbYS16QS1aMC05XSspKD86XDspJycnICwgSTExSSAuIGhlYWRlcnMgWyAnU2V0LUNvb2tpZScgXSApCiAgIElpSTFpaTExMUkxMTEgPSByZXF1ZXN0cyAuIGdldCAoIGkxaWkxICkKICAgb09Pb28wb29vT08gPSByZSAuIGZpbmRhbGwgKCAnJycoPzpuYW1lXD1cIm9wXCIgdmFsdWVcPVwiKShbYS16QS1aMC05XSspKD86XCJcPiknJycgLCBJaUkxaWkxMTFJMTExIC4gdGV4dCApCiAgIGlkID0gcmUgLiBmaW5kYWxsICggJycnKD86bmFtZVw9XCJpZFwiIHZhbHVlXD1cIikoW2EtekEtWjAtOV0rKSg/OlwiXD4pJycnICwgSWlJMWlpMTExSTExMSAuIHRleHQgKQogICBpSUlpMTFJSUkxSTEgPSByZSAuIGZpbmRhbGwgKCAnJycoPzpuYW1lXD1cInJhbmRcIiB2YWx1ZVw9XCIpKFthLXpBLVowLTldKykoPzpcIlw+KScnJyAsIElpSTFpaTExMUkxMTEgLiB0ZXh0ICkKICAgaWlJSSA9IHsgJ29wJyA6IG9PT29vMG9vb09PIFsgMCBdICwKICdpZCcgOiBpZCBbIDAgXSAsCiAncmFuZCcgOiBpSUlpMTFJSUkxSTEgWyAwIF0gLAogJ3JlZmVyZXInIDogJycgLAogJ21ldGhvZF9mcmVlJyA6ICcnICwKICdtZXRob2RfcHJlbWl1bScgOiAnJyB9CiAgIGlJaWlJaTFpMWkxaTEgPSB7ICdDb29raWUnIDogJ2xvZ2luPScgKyBpaTExaTFJMTFpIFsgaUkxSWlJMUlJaUlpIF0gWyAwIF0gKyAnOycgKyAnZmlsZV9zb3J0X2ZpZWxkPWZpbGVfY3JlYXRlZDsgZmlsZV9zb3J0X29yZGVyPWRvd247IGxhbmc9c3BhbmlzaDsgeGZzcz0nICsgT29vbyBbIDAgXSB9CiAgIG9vT08wT09vMCA9IHJlcXVlc3RzIC4gcG9zdCAoIGkxaWkxICwgZGF0YSA9IGlpSUkgLCBoZWFkZXJzID0gaUlpaUlpMWkxaTFpMSAsIGFsbG93X3JlZGlyZWN0cyA9IEZhbHNlICkKICAgb29vMG9vb09PID0gb29PTzBPT28wIC4gaGVhZGVycyBbICdMb2NhdGlvbicgXQogICBpMWlJMTFJaUkgPSByZSAuIHNlYXJjaCAoICcnJyhcOlthLXpBLVowLTldKyknJycgLCBvb28wb29vT08gKSAuIGdyb3VwICggMSApCiAgIGlJID0gb29vMG9vb09PIC4gcmVwbGFjZSAoIGkxaUkxMUlpSSAsICcnICkKICAgdHJ5IDoKICAgIGlJSWkgPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBPME9vb09PTzBPICkKICAgIGlJSWkgLiBzZXRQYXRoICggaUkgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIFRydWUgLCBpSUlpICkKICAgIHhibWMgLiBzbGVlcCAoIDEwMDAgKQogICAgd2hpbGUgeGJtYyAuIFBsYXllciAoICkgLiBpc1BsYXlpbmcgKCApID09IDEgOgogICAgIElpaWkxMTFpMWkgPSB4Ym1jIC4gUGxheWVyICggKSAuIGdldFRpbWUgKCApCiAgICAgeGJtYyAuIHNsZWVwICggMjAwICkKICAgICBpZiB4Ym1jIC4gUGxheWVyICggKSAuIGdldFRpbWUgKCApID4gSWlpaTExMWkxaSA6CiAgICAgIGJyZWFrCiAgICB4Ym1jIC4gUGxheWVyICggKSAuIHNlZWtUaW1lICggeGJtYyAuIFBsYXllciAoICkgLiBnZXRUaW1lICggKSApCiAgIGV4Y2VwdCA6CiAgICBpaWkgPSAnRXJyb3IgY29uIHNlcnZpZG9yICVzLCByZXZpc2EgY29uZXhpb24vZG9taW5pbycgJSAnSDI2NScKICAgIG9vTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGlpaSAsIGljb25JbWFnZSA9ICdEZWZhdWx0VmlkZW8ucG5nJyApCiAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgRmFsc2UgLCBvb08gKQogICAgSWkxaUkgPSB4Ym1jZ3VpIC4gRGlhbG9nICggKQogICAgSWkxaUkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgaWlpICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9JTkZPICwgNTAwMCApCiAgZWxpZiAnZ29vZ2xlLmNvbScgaW4gaTFpaTEgOgogICB0cnkgOgogICAgSWlpaTFJID0gImh0dHBzPzovLyg/OmRyaXZlfGRvY3MpXFwuZ29vZ2xlXFwuY29tLyg/OmZpbGUvZC98dWNcXD9pZD18Z2V0X3ZpZGVvX2luZm9cXD9kb2NpZD0pKFteLyZdKykiCiAgICBpZCA9IHJlIC4gZmluZGFsbCAoIElpaWkxSSAsIGkxaWkxICwgZmxhZ3MgPSByZSAuIERPVEFMTCApIFsgMCBdCiAgICBPb09vID0gJ2h0dHBzOi8vZHJpdmUuZ29vZ2xlLmNvbS91Yz9leHBvcnQ9ZG93bmxvYWQmaWQ9JXMnICUgaWQKICAgIHhibWMgLiBsb2cgKCAnIyMjIyMjIyMjIyMjICVzJyAlIE9vT28gKQogICAgaWYgMiAtIDI6IG9PTwogICAgb29PMDAwb09vMDAgPSBpSSA9ICcnCiAgICB0cnkgOgogICAgIGlpSUkgPSBPMCAoIE9vT28gKSAuIGRhdGEKICAgICBvb08wMDBvT28wMCA9IHJlIC4gZmluZGFsbCAoICdocmVmPSIoL3VjXD9leHBvcnQ9ZG93bmxvYWQmY29uZmlybT1bXiZdKyZpZD1bXiJdKykiJyAsIGlpSUkgLCBmbGFncyA9IHJlIC4gRE9UQUxMICkKICAgICB4Ym1jIC4gbG9nICggJyMjIyMjIyMjIyMjIyAlcycgJSBvb08wMDBvT28wMCApCiAgICBleGNlcHQgOgogICAgIHhibWMgLiBsb2cgKCAnIyMjIyMjIyMjIyMjIGVycm9yIGRvd25sb2FkcGFnZScgKQogICAgIHBhc3MKICAgICBpZiA2MiAtIDYyOiBPT29Pb08wbzBvME9PIC4gb29Pb29PME9PTyAqIElpSUkxaTFJIC8gSWkgLyBvbwogICAgaWYgaXNpbnN0YW5jZSAoIG9vTzAwMG9PbzAwICwgbGlzdCApIGFuZCBvb08wMDBvT28wMCA6CiAgICAgaWlJSSA9IE8wICggdXJscGFyc2UgLiB1cmxqb2luICggT29PbyAsIG9vTzAwMG9PbzAwIFsgMCBdICkgLCBmb2xsb3dfcmVkaXJlY3RzID0gRmFsc2UgKQogICAgIGlJID0gaWlJSSAuIGhlYWRlcnMgLiBnZXQgKCAnbG9jYXRpb24nICkKICAgICB4Ym1jIC4gbG9nICggJyMjIyMjIyMjIyMjIyBtZXRvZG8gMTogJXMnICUgaUkgKQogICAgIGlmIDIyIC0gMjI6IElpIC4gb28gLiBJaTFJIC8gb29vT29PICogb29Pb29PME9PTwogICAgaWYgbm90ICggaUkgYW5kIE8wICggaUkgLCBmb2xsb3dfcmVkaXJlY3RzID0gRmFsc2UgLCBvbmx5X2hlYWRlcnMgPSBUcnVlICkgLiBoZWFkZXJzIC4gZ2V0ICggJ2NvbnRlbnQtZGlzcG9zaXRpb24nICkgKSA6CiAgICAgeGJtYyAuIGxvZyAoICcjIyMjIyMjIyMjIyMgbWV0b2RvIDInICkKICAgICBpSSA9IHJlc29sdmV1cmwgLiByZXNvbHZlICggaTFpaTEgKQogICAgIHhibWMgLiBsb2cgKCAnIyMjIyMjIyMjIyMjIG1ldG9kbyAyOiAlcycgJSBpSSApCiAgICAgaWYgOTggLSA5ODogSTEKICAgIGlmIGlJIDoKICAgICB4Ym1jIC4gbG9nICggJyMjIyMjIyMjIyMjIyBleGl0byAlcycgJSBpSSApCiAgICAgYWN0aW9uICggTzBPb29PT08wTyAsIGlJICkKICAgIGVsc2UgOgogICAgIHhibWMgLiBsb2cgKCAnIyMjIyMjIyMjIyMjIGVycm9yJyApCiAgICAgcmFpc2UKICAgICBpZiA0NyAtIDQ3OiBPT29Pb08wbzBvME9PICUgaUlpMTEgLyBJaUlJMUlpSSArIE9Pb09vTzBvMG8wT08gJSBvbyAqIElpSUkxSWlJCiAgIGV4Y2VwdCA6CiAgICBpbXBvcnQgdHJhY2ViYWNrCiAgICB0cmFjZWJhY2sgLiBwcmludF9leGMgKCBmaWxlID0gc3lzIC4gc3Rkb3V0ICkKICAgIGlpaSA9ICdMaW5rIGNhaWRvLGludGVudGFsbyBtYXMgdGFyZGUuJwogICAgb29PID0geGJtY2d1aSAuIExpc3RJdGVtICggaWlpICwgaWNvbkltYWdlID0gJ0RlZmF1bHRWaWRlby5wbmcnICkKICAgIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBGYWxzZSAsIG9vTyApCiAgICBJaTFpSSA9IHhibWNndWkgLiBEaWFsb2cgKCApCiAgICBJaTFpSSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBpaWkgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCA3MDAwICkKICAgIGlmIDE1IC0gMTU6IElJb29vTzBvb08wb28gKyBPT08gLyBvb29Pb08KICBlbHNlIDoKICAgdHJ5IDoKICAgIGlJID0gcmVzb2x2ZXVybCAuIHJlc29sdmUgKCBpMWlpMSApCiAgICBpZiBpSSA9PSBGYWxzZSA6CiAgICAgSTFJaTExMSA9IHhibWNhZGRvbiAuIEFkZG9uICggaWQgPSAic2NyaXB0Lm1vZHVsZS5yZXNvbHZldXJsIiApCiAgICAgaWlpID0gJ0xpbWl0ZSBkaWFyaW8gY29uc3VtaWRvLiBDYW1iaWFyIElQLiBzY3JpcHQubW9kdWxlLnJlc29sdmV1cmwgJXMgJyAlIEkxSWkxMTEgLiBnZXRBZGRvbkluZm8gKAogJ3ZlcnNpb24nICkKICAgICBvb08gPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBpaWkgLCBpY29uSW1hZ2UgPSAnRGVmYXVsdFZpZGVvLnBuZycgKQogICAgIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBGYWxzZSAsIG9vTyApCiAgICAgSWkxaUkgPSB4Ym1jZ3VpIC4gRGlhbG9nICggKQogICAgIElpMWlJIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIGlpaSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDEwMDAwICkKICAgIGVsc2UgOgogICAgIGFjdGlvbiAoIE8wT29vT09PME8gLCBpSSApCiAgIGV4Y2VwdCA6CiAgICBpbXBvcnQgdHJhY2ViYWNrCiAgICB0cmFjZWJhY2sgLiBwcmludF9leGMgKCBmaWxlID0gc3lzIC4gc3Rkb3V0ICkKICAgIGlpaSA9ICdMaW5rIGNhaWRvLGludGVudGFsbyBtYXMgdGFyZGUuJwogICAgb29PID0geGJtY2d1aSAuIExpc3RJdGVtICggaWlpICwgaWNvbkltYWdlID0gJ0RlZmF1bHRWaWRlby5wbmcnICkKICAgIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBGYWxzZSAsIG9vTyApCiAgICBJaTFpSSA9IHhibWNndWkgLiBEaWFsb2cgKCApCiAgICBJaTFpSSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBpaWkgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCA3MDAwICkKICAgIGlmIDM2IC0gMzY6IGlpMUkxaWkxSWlJaTEgJSBJaTFJIC4gSWlJSTFJaUkgKyBJMQogICAgaWYgNjIgLSA2MjogaWlJSWkxaTFJaWkgJSBvbwpkZWYgSWlJaUlJMWlpICggYmFzICwgZGF0YSApIDoKIGlJaUlJSUlJMUlpMWkgPSBkYXRhIC4gc3BsaXQgKCAnLicgKQogaWYgaUlpSUlJSUkxSWkxaSBbIDAgXSA9PSAnY3AnIDoKICBpSWlJSUlJSTFJaTFpID0gaTFpSUlJaWkxICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnWTI5d2FXRndiM0F1WTI5dCcgKSAsIGlJaUlJSUlJMUlpMWkgWyAxIF0gLCBiYXMgKQogZWxpZiBpSWlJSUlJSTFJaTFpIFsgMCBdID09ICdkaycgOgogIGlJaUlJSUlJMUlpMWkgPSBPbzAwT29vTyAoIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ2FIUjBjRG92TDJScGMydHZhMjl6YldscmJ5NXRlQT09JyApICwgaUlpSUlJSUkxSWkxaSBbIDEgXSApCiBlbHNlIDoKICBpZiAxNiAtIDE2OiBvbyArIE9Pb09vTzBvMG8wT08gLSBvb29Pb08gLyBJaTFJICsgb09PCiAgaUlpSUlJSUkxSWkxaSA9IGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ0pYTXZiVzl5YVdFdVkyMXcnICkgJSBkYXRhCiBkYXRhID0gSTFpaUkxSSAoIGlJaUlJSUlJMUlpMWkgKQogdHJ5IDoKICBkYXRhID0gemxpYiAuIGRlY29tcHJlc3MgKCBkYXRhICkKIGV4Y2VwdCA6CiAgeGJtYyAuIGxvZyAoICdbYWRkb24uUGFsYW50aXJdIEVycm9yIGRlY3J5cHQgYmQgJXMnICUgKCBkYXRhICkgKQogIHBhc3MKIGlpSWlpMUlJaTFJID0gb3BlbiAoIGJhcyAsICd3YicgKQogaWlJaWkxSUlpMUkgLiB3cml0ZSAoIGRhdGEgKQogaWlJaWkxSUlpMUkgLiBjbG9zZSAoICkKIHRyeSA6CiAgSUlJaWkxSWkgPSBzcWxpdGUzIC4gY29ubmVjdCAoIGJhcyApCiAgT08wbyA9IElJSWlpMUlpIC4gY3Vyc29yICggKQogIGlmIDY1IC0gNjU6IElpMUkgLyBpaTFJMWlpMUlpSWkxIC8gbzAwb08wb28wTzBPMCAvIG9PTwogIE9PMG8gLiBleGVjdXRlICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnYzJWc1pXTjBJSFpsY25OcGIyNHNJQ2h6Wld4bFkzUWdZMjkxYm5Rb0tpa2dabkp2YlNBb2MyVnNaV04wSUd4cGJtc2dabkp2YlNCelpYSnBaWE1nZDJobGNtVWdiR2x1YXlCMWJtbHZiaUJ6Wld4bFkzUWdiR2x1YXlCbWNtOXRJSEJsYkdsektTa2dabkp2YlNCMlpYSnphVzl1JyApICkKICBpaWlpaWlJID0gT08wbyAuIGZldGNob25lICggKQogIElJSWlpMUlpIC4gY2xvc2UgKCApCiAgaWlpID0gJ1ZlcnMuICVzIChNw6FzIGRlICVzIGNvbnRlbmlkb3MgZGlmZXJlbnRlcyknICUgKCBpaWlpaWlJIFsgMCBdICwgaWlpaWlpSSBbIDEgXSApCiAgeGJtY2d1aSAuIERpYWxvZyAoICkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgaWlpICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9JTkZPICwgNTAwMCApCiBleGNlcHQgRGF0YWJhc2VFcnJvciBhcyBvMG8wMDAwTzAgOgogIGlmIDg4IC0gODg6IG9vb09vTyAvIElJICsgaUlpMTEgKyBvb29Pb08gLSBvT08KICBpZiBvcyAuIHBhdGggLiBpc2ZpbGUgKCBiYXMgKSA6CiAgIG9zIC4gcmVtb3ZlICggYmFzICkKICAgaWYgNzQgLSA3NDogaUlpMTEgLSBJaSAlIGlpMUkxaWkxSWlJaTEgJSBJSUlJIC0gSTEKICByYWlzZSBvMG8wMDAwTzAKICBpZiA2MSAtIDYxOiBJSUlJIC0gSUlJSQpkZWYgaUlJMWlJSWlJaTExSSAoIGJhcyAsIHByb3ZpZGVyICkgOgogSUlJaWkxSWkgPSBzcWxpdGUzIC4gY29ubmVjdCAoIGJhcyApCiBPTzBvID0gSUlJaWkxSWkgLiBjdXJzb3IgKCApCiBpZiAxMCAtIDEwOiBJaTFJICogSTEgLSBPT08KIE9PMG8gLiBleGVjdXRlICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnYzJWc1pXTjBJR055WldSbGJuUnBZV3h6SUdaeWIyMGdkbVZ5YzJsdmJnPT0nICkgKQogaWlpaWlpSSA9IE9PMG8gLiBmZXRjaG9uZSAoICkKIElJSWlpMUlpIC4gY2xvc2UgKCApCiBpZiBpaWlpaWlJIFsgMCBdIDoKICBpaTEgPSBpaWlpaWlJIFsgMCBdIC4gc3BsaXQgKCAnIyMnICkKICBmb3IgTzAwT29vMG8wT08gaW4geHJhbmdlICggbGVuICggaWkxICkgLyAzICkgOgogICBpZiBpaTEgWyBPMDBPb28wbzBPTyAqIDMgXSA9PSBwcm92aWRlciA6CiAgICBpZiBwcm92aWRlciA9PSAnay1iYWdpLmNvbScgOgogICAgIHByb3ZpZGVyID0gJ2tiZycKICAgIGVsaWYgcHJvdmlkZXIgPT0gJ2tiYWdpLmNvbScgOgogICAgIHByb3ZpZGVyID0gJ2tiZycKICAgIGVsc2UgOgogICAgIHByb3ZpZGVyID0gJ2RrJwogICAgcmV0dXJuIFsgX19zZXR0aW5nc19fIC4gZ2V0U2V0dGluZyAoICclc1VzZXJOYW1lJyAlIHByb3ZpZGVyICkgb3IgaWkxIFsgTzAwT29vMG8wT08gKiAzICsgMSBdICwKIF9fc2V0dGluZ3NfXyAuIGdldFNldHRpbmcgKCAnJXNQYXNzd29yZCcgJSBwcm92aWRlciApIG9yIGlpMSBbIE8wME9vbzBvME9PICogMyArIDIgXSBdCiAgICBpZiAxNSAtIDE1OiBJaTFJIC0gaUlpMTEgLyBpMWlJMSArIG9vICsgb09PICogb28KIHJldHVybiBbICdOb0JETm9Vc2VyJyBdICogMgogaWYgNDggLSA0ODogSWlJSTFJaUkgLSBvb29Pb08gLSBpaTFJMWlpMUlpSWkxIC4gaWlJSWkxaTFJaWkKaW1wb3J0IHVybHBhcnNlCmlmIDUxIC0gNTE6IG9PTyAuIG9vb09vTyAlIG9vb09vTyAtIG9vb09vTwppZiA0MyAtIDQzOiBJMSArIG8wMG9PMG9vME8wTzAgLiBpSWkxMSAqIG9vIC8gT09vT29PMG8wbzBPTyAvIGlpSUlpMWkxSWlpCmlmIDcxIC0gNzE6IElpMUkgKiBJaTFJICUgb28gLyBJaTFJICogSUlJSQppbXBvcnQgZ3ppcAppbXBvcnQgY29va2llbGliCmZyb20gU3RyaW5nSU8gaW1wb3J0IFN0cmluZ0lPCmZyb20gdGhyZWFkaW5nIGltcG9ydCBMb2NrCmlmIDY3IC0gNjc6IG9vIC8gSWlJSTFpMUkgLSBJSUlJCkkxSUlpMUlJSWkxMUkgPSBMb2NrICggKQppMWkgPSBjb29raWVsaWIgLiBNb3ppbGxhQ29va2llSmFyICggKQpJMWkxSUlJSTFJSSA9IHhibWMgLiB0cmFuc2xhdGVQYXRoICggeGJtY2FkZG9uIC4gQWRkb24gKCApIC4gZ2V0QWRkb25JbmZvICggJ1Byb2ZpbGUnICkgLiBkZWNvZGUgKCAndXRmLTgnICkgKQppSTFpSTExSUkgPSBvcyAuIHBhdGggLiBqb2luICggSTFpMUlJSUkxSUkgLCAiY29va2llcy5kYXQiICkKaWYgNzIgLSA3MjogaWlJSWkxaTFJaWkgKiBJMUlpSTFJSUkxMWkgLyBvMDBvTzBvbzBPME8wIC8gb28gLSBpaUlJaTFpMUlpaSAlIGlJaTExCkkxSUlpMUlJSWkxMUkgLiBhY3F1aXJlICggKQppZiBvcyAuIHBhdGggLiBpc2ZpbGUgKCBpSTFpSTExSUkgKSA6CiB0cnkgOgogIGkxaSAuIGxvYWQgKCBpSTFpSTExSUkgLCBpZ25vcmVfZGlzY2FyZCA9IFRydWUgKQogZXhjZXB0IEV4Y2VwdGlvbiA6CiAgb3MgLiByZW1vdmUgKCBpSTFpSTExSUkgKQpJMUlJaTFJSUlpMTFJIC4gcmVsZWFzZSAoICkKaWYgMTcgLSAxNzogSUkKZGVmIElpaTFpaWkxSUlJICggKSA6CiBJMUlJaTFJSUlpMTFJIC4gYWNxdWlyZSAoICkKIGkxaSAuIHNhdmUgKCBpSTFpSTExSUkgLCBpZ25vcmVfZGlzY2FyZCA9IFRydWUgKQogSTFJSWkxSUlJaTExSSAuIHJlbGVhc2UgKCApCiBpZiA0NCAtIDQ0OiBvMDBvTzBvbzBPME8wICogb29vT29PCmRlZiBJSTEgKCBkb21haW4gKSA6CiByZXR1cm4gZGljdCAoICggYyAuIG5hbWUgLCBjIC4gdmFsdWUgKSBmb3IgYyBpbiBpMWkgLiBfY29va2llcyAuIGdldCAoICIuIiArIGRvbWFpbiAsIHsgfSApIC4gZ2V0ICggIi8iICwgeyB9ICkgLiB2YWx1ZXMgKCApICkKIGlmIDg1IC0gODU6IElpMUkgKyBJSW9vb08wb29PMG9vICUgSUlJSSAvIG9vIC0gSWlJSTFpMUkKZGVmIE8wICggdXJsICwgcG9zdCA9IE5vbmUgLCBoZWFkZXJzID0gTm9uZSAsIGZvbGxvd19yZWRpcmVjdHMgPSBUcnVlICwgb25seV9oZWFkZXJzID0gRmFsc2UgLCByZXBsYWNlX2hlYWRlcnMgPSBGYWxzZSApIDoKIEkxMUlpaTExaTFJaTEgPSB7IH0KIGlmIDU0IC0gNTQ6IElJb29vTzBvb08wb28gLiBJaUlJMWkxSSAlIG9vT29vTzBPT08gLyBPT08KIGlmIDQzIC0gNDM6IG8wMG9PMG9vME8wTzAgKiBJaTFJICsgb28gKyBJaQogaWYgdHlwZSAoIHBvc3QgKSA9PSBkaWN0IDoKICBwb3N0ID0gdXJsbGliIC4gdXJsZW5jb2RlICggcG9zdCApCiAgaWYgNjYgLSA2NjogSWlJSTFpMUkgLSBJSW9vb08wb29PMG9vIC4gaWlJSWkxaTFJaWkgLyBJSW9vb08wb29PMG9vICsgSUlJSQogIGlmIDQzIC0gNDM6IG9vb09vTyAqIG9vb09vTyAlIGkxaUkxICUgb29vT29PIC0gSWlJSTFpMUkgJSBJSW9vb08wb29PMG9vCiB1cmwgPSB1cmxsaWIgLiBxdW90ZSAoIHVybCAsIHNhZmUgPSAiJS86PSY/fiMrISQsOydAKCkqW10iICkKIGlmIDE0IC0gMTQ6IElJICUgSTFJaUkxSUlJMTFpIC0gSWkxSSAlIE9PTyAqIGkxaUkxICUgSTFJaUkxSUlJMTFpCiBpZiA0NCAtIDQ0OiBJaSAqIG9vb09vTyAtIEkxCiBvTzBvID0gZGljdCAoICkKIG9PMG8gWyAiVXNlci1BZ2VudCIgXSA9ICJNb3ppbGxhLzUuMCAoWDExOyBMaW51eCBpNjg2OyBydjo0NC4wKSBHZWNrby8yMDEwMDEwMSBGaXJlZm94LzQ0LjAgSWNld2Vhc2VsLzQ0LjAiCiBvTzBvIFsgIkFjY2VwdCIgXSA9ICJ0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSwqLyo7cT0wLjgiCiBvTzBvIFsgIkFjY2VwdC1MYW5ndWFnZSIgXSA9ICJlcy1FUyxlcztxPTAuOCxlbi1VUztxPTAuNSxlbjtxPTAuMyIKIG9PMG8gWyAiQWNjZXB0LUNoYXJzZXQiIF0gPSAiVVRGLTgiCiBvTzBvIFsgIkFjY2VwdC1FbmNvZGluZyIgXSA9ICJnemlwIgogaWlpTzAwME9vID0gb08wbyAuIGNvcHkgKCApCiBpZiAzMSAtIDMxOiBPT08gKiBJaTFJCiBpZiA4NyAtIDg3OiBpMWlJMSAuIEkxCiBpZiBoZWFkZXJzIGlzIG5vdCBOb25lIDoKICBpZiBub3QgcmVwbGFjZV9oZWFkZXJzIDoKICAgaWlpTzAwME9vIC4gdXBkYXRlICggZGljdCAoIGhlYWRlcnMgKSApCiAgZWxzZSA6CiAgIGlpaU8wMDBPbyA9IGRpY3QgKCBoZWFkZXJzICkKICAgaWYgOTUgLSA5NTogaWlJSWkxaTFJaWkgJSBvT08gKyBJaQogICBpZiA0MiAtIDQyOiBvbyAvIElJICsgb28KIG9vMCA9IGxpc3QgKCApCiBvbzAgLiBhcHBlbmQgKCB1cmxsaWIyIC4gSFRUUEhhbmRsZXIgKCBkZWJ1Z2xldmVsID0gRmFsc2UgKSApCiBvbzAgLiBhcHBlbmQgKCB1cmxsaWIyIC4gSFRUUENvb2tpZVByb2Nlc3NvciAoIGkxaSApICkKIGlmIDYgLSA2OiBJSUlJIC4gSWlJSTFJaUkgJSBpaUlJaTFpMUlpaSAtIGlJaTExIC4gb29Pb29PME9PTwogaWYgMjMgLSAyMzogaTFpSTEgLyBJMUlpSTFJSUkxMWkgKyBPT08gKyBJaTFJICsgb29Pb29PME9PTyArIElpSUkxSWlJCiBpZiBub3QgZm9sbG93X3JlZGlyZWN0cyA6CiAgb28wIC4gYXBwZW5kICggaWlpaW9PTzAgKCApICkKIGVsc2UgOgogIG9vMCAuIGFwcGVuZCAoIE9vICggKSApCiAgaWYgODYgLSA4NjogaTFpSTEgLiBJaTFJIC4gSWlJSTFJaUkKICBpZiA4MyAtIDgzOiBPT08gKiBJMSAvIG9vICogT09PCiBvbzBPMDBPbzAwbyA9IHVybGxpYjIgLiBidWlsZF9vcGVuZXIgKCAqIG9vMCApCiBpZiA2MiAtIDYyOiBJSUlJIC4gSWlJSTFJaUkKIGlmIDMyIC0gMzI6IEkxICogaWkxSTFpaTFJaUlpMSArIGlpMUkxaWkxSWlJaTEgLyBJSSArIElpSUkxSWlJICogSUlJSQogSWkxMSA9IHVybGxpYjIgLiBSZXF1ZXN0ICggdXJsICwgcG9zdCAsIGlpaU8wMDBPbyApCiBpZiA2NiAtIDY2OiBJMSAtIGkxaUkxCiB0cnkgOgogIGlmIDYzIC0gNjM6IG9vT29vTzBPT08gLyBJaTFJICUgSUkgLSBJMUlpSTFJSUkxMWkgLyBpaUlJaTFpMUlpaQogIG9vMG9PT09PTyA9IG9vME8wME9vMDBvIC4gb3BlbiAoIElpMTEgKQogIGlmIDc5IC0gNzk6IG9PTyAvIElJCiAgaWYgOTIgLSA5Mjogb09PCiBleGNlcHQgdXJsbGliMiAuIEhUVFBFcnJvciAsIG9vMG9PT09PTyA6CiAgeGJtYyAuIGxvZyAoICcjIyMjIyMgUGV0aWNpb24gcmVhbGl6YWRhIGNvbiBlcnJvcicgKQogIEkxMUlpaTExaTFJaTEgWyAic3VjZXNzIiBdID0gRmFsc2UKICBJMTFJaWkxMWkxSWkxIFsgImNvZGUiIF0gPSBvbzBvT09PT08gLiBjb2RlCiAgSTExSWlpMTFpMUlpMSBbICJlcnJvciIgXSA9IG9vMG9PT09PTyAuIF9fZGljdF9fIC4gZ2V0ICggInJlYXNvbiIgLCBzdHIgKCBvbzBvT09PT08gKSApCiAgSTExSWlpMTFpMUlpMSBbICJoZWFkZXJzIiBdID0gb28wb09PT09PIC4gaGVhZGVycyAuIGRpY3QKICBJMTFJaWkxMWkxSWkxIFsgJ2Nvb2tpZXMnIF0gPSBJSTEgKCB1cmxwYXJzZSAuIHVybHBhcnNlICggdXJsICkgWyAxIF0gKQogIEkxMUlpaTExaTFJaTEgWyAiZGF0YSIgXSA9ICIiIGlmIG9ubHlfaGVhZGVycyBlbHNlIG9vMG9PT09PTyAuIHJlYWQgKCApCiAgSTExSWlpMTFpMUlpMSBbICJ1cmwiIF0gPSBvbzBvT09PT08gLiBnZXR1cmwgKCApCiAgaWYgMzkgLSAzOTogSWlJSTFJaUkgLSBJSSAvIElJSUkgKiBvT08gLyBvb09vb08wT09PIC0gSWkKIGV4Y2VwdCBFeGNlcHRpb24gLCBvMG8wMDAwTzAgOgogIHhibWMgLiBsb2cgKCAnIyMjIyMjIFBldGljaW9uIE5PIHJlYWxpemFkYScgKQogIEkxMUlpaTExaTFJaTEgWyAic3VjZXNzIiBdID0gRmFsc2UKICBJMTFJaWkxMWkxSWkxIFsgImNvZGUiIF0gPSBvMG8wMDAwTzAgLiBfX2RpY3RfXyAuIGdldCAoICJlcnJubyIgLCBvMG8wMDAwTzAgLiBfX2RpY3RfXyAuIGdldCAoICJjb2RlIiAsIHN0ciAoIG8wbzAwMDBPMCApICkgKQogIEkxMUlpaTExaTFJaTEgWyAiZXJyb3IiIF0gPSBvMG8wMDAwTzAgLiBfX2RpY3RfXyAuIGdldCAoICJyZWFzb24iICwgc3RyICggbzBvMDAwME8wICkgKQogIEkxMUlpaTExaTFJaTEgWyAiaGVhZGVycyIgXSA9IHsgfQogIEkxMUlpaTExaTFJaTEgWyAnY29va2llcycgXSA9IElJMSAoIHVybHBhcnNlIC4gdXJscGFyc2UgKCB1cmwgKSBbIDEgXSApCiAgSTExSWlpMTFpMUlpMSBbICJkYXRhIiBdID0gIiIKICBJMTFJaWkxMWkxSWkxIFsgInVybCIgXSA9IHVybAogIGlmIDg0IC0gODQ6IGlpMUkxaWkxSWlJaTEgKyBpaUlJaTFpMUlpaQogZWxzZSA6CiAgSTExSWlpMTFpMUlpMSBbICJzdWNlc3MiIF0gPSBUcnVlCiAgSTExSWlpMTFpMUlpMSBbICJjb2RlIiBdID0gb28wb09PT09PIC4gY29kZQogIEkxMUlpaTExaTFJaTEgWyAiZXJyb3IiIF0gPSBOb25lCiAgSTExSWlpMTFpMUlpMSBbICJoZWFkZXJzIiBdID0gb28wb09PT09PIC4gaGVhZGVycyAuIGRpY3QKICBJMTFJaWkxMWkxSWkxIFsgJ2Nvb2tpZXMnIF0gPSBJSTEgKCB1cmxwYXJzZSAuIHVybHBhcnNlICggdXJsICkgWyAxIF0gKQogIEkxMUlpaTExaTFJaTEgWyAiZGF0YSIgXSA9ICIiIGlmIG9ubHlfaGVhZGVycyBlbHNlIG9vMG9PT09PTyAuIHJlYWQgKCApCiAgSTExSWlpMTFpMUlpMSBbICJ1cmwiIF0gPSBvbzBvT09PT08gLiBnZXR1cmwgKCApCiAgaWYgMzAgLSAzMDogSTFJaUkxSUlJMTFpICsgT09PICogSWlJSTFpMUkgLyBJMUlpSTFJSUkxMWkKICBpZiA1OCAtIDU4OiBvbwogaWYgSTExSWlpMTFpMUlpMSBbICJoZWFkZXJzIiBdIC4gZ2V0ICggJ2NvbnRlbnQtZW5jb2RpbmcnICkgPT0gJ2d6aXAnIDoKICBJMTFJaWkxMWkxSWkxIFsgImRhdGEiIF0gPSBnemlwIC4gR3ppcEZpbGUgKCBmaWxlb2JqID0gU3RyaW5nSU8gKCBJMTFJaWkxMWkxSWkxIFsgImRhdGEiIF0gKSApIC4gcmVhZCAoICkKICBpZiA1MyAtIDUzOiBpaUlJaTFpMUlpaSAqIEkxSWlJMUlJSTExaQogSTExSWlpMTFpMUlpMSBbICJkYXRhIiBdID0gSFRNTFBhcnNlciAuIEhUTUxQYXJzZXIgKCApIC4gdW5lc2NhcGUgKCB1bmljb2RlICggSTExSWlpMTFpMUlpMSBbICJkYXRhIiBdICwgJ3V0ZjgnICkgKSAuIGVuY29kZSAoICd1dGY4JyApCiByZXR1cm4gTzBvb08gKCBJMTFJaWkxMWkxSWkxICkKIGlmIDExIC0gMTE6IG9vIC8gaWkxSTFpaTFJaUlpMQogaWYgNzMgLSA3MzogSUlJSSAvIG9vb09vTyArIG9vCmNsYXNzIGlpaWlvT08wICggdXJsbGliMiAuIEhUVFBSZWRpcmVjdEhhbmRsZXIgKSA6CiBkZWYgaHR0cF9lcnJvcl8zMDIgKCBzZWxmICwgcmVxICwgZnAgLCBjb2RlICwgbXNnICwgaGVhZGVycyApIDoKICBvb09vTzBPME9vID0gdXJsbGliIC4gYWRkaW5mb3VybCAoIGZwICwgaGVhZGVycyAsIHJlcSAuIGdldF9mdWxsX3VybCAoICkgKQogIG9vT29PME8wT28gLiBzdGF0dXMgPSBjb2RlCiAgb29Pb08wTzBPbyAuIGNvZGUgPSBjb2RlCiAgcmV0dXJuIG9vT29PME8wT28KICBpZiA2IC0gNjogT09vT29PMG8wbzBPTyAuIG9vT29vTzBPT08gLSBvT08gLyBJaUlJMUlpSQogaHR0cF9lcnJvcl8zMDAgPSBodHRwX2Vycm9yXzMwMgogaHR0cF9lcnJvcl8zMDEgPSBodHRwX2Vycm9yXzMwMgogaHR0cF9lcnJvcl8zMDMgPSBodHRwX2Vycm9yXzMwMgogaHR0cF9lcnJvcl8zMDcgPSBodHRwX2Vycm9yXzMwMgogaWYgOTMgLSA5MzogSTFJaUkxSUlJMTFpIC8gSUlvb29PMG9vTzBvbyArIElJSUkgKyBpMWlJMQpjbGFzcyBPbyAoIHVybGxpYjIgLiBIVFRQUmVkaXJlY3RIYW5kbGVyICkgOgogZGVmIHJlZGlyZWN0X3JlcXVlc3QgKCBzZWxmICwgcmVxICwgZnAgLCBjb2RlICwgbXNnICwgaGVhZGVycyAsIG5ld3VybCApIDoKICBpZiAnQXV0aG9yaXphdGlvbicgaW4gcmVxIC4gaGVhZGVycyA6CiAgIHJlcSAuIGhlYWRlcnMgLiBwb3AgKCAnQXV0aG9yaXphdGlvbicgKQogIHJldHVybiB1cmxsaWIyIC4gSFRUUFJlZGlyZWN0SGFuZGxlciAuIHJlZGlyZWN0X3JlcXVlc3QgKCBzZWxmICwgcmVxICwgZnAgLCBjb2RlICwgbXNnICwgaGVhZGVycyAsIG5ld3VybCApCiAgaWYgNjggLSA2ODogT09PIC4gT09PIC8gT09PCmNsYXNzIE8wb29PIDoKIGRlZiBfX2luaXRfXyAoIHNlbGYgLCByZXNwb25zZSApIDoKICBzZWxmIC4gc3VjZXNzID0gTm9uZQogIHNlbGYgLiBjb2RlID0gTm9uZQogIHNlbGYgLiBlcnJvciA9IE5vbmUKICBzZWxmIC4gaGVhZGVycyA9IE5vbmUKICBzZWxmIC4gY29va2llcyA9IE5vbmUKICBzZWxmIC4gZGF0YSA9IE5vbmUKICBzZWxmIC4gdGltZSA9IE5vbmUKICBzZWxmIC4gdXJsID0gTm9uZQogIHNlbGYgLiBfX2RpY3RfXyA9IHJlc3BvbnNlCiAgaWYgNjkgLSA2OTogaWkxSTFpaTFJaUlpMSArIElpMUkgLyBJSUlJIC4gaUlpMTEgJSBpaUlJaTFpMUlpaQpkZWYgb28wMG9Pb28gKCBiYXMgKSA6CiBJMTFpSWlJSWkgPSBJMTExSTExSTExMTExICggYmFzICkKIGlmIEkxMWlJaUlJaSA9PSAnJyA6CiAgSTExaUlpSUlpID0gT09vMDAwMG9PICggKQogSTExaUlpSUlpID0gemxpYiAuIGRlY29tcHJlc3MgKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoIEkxMWlJaUlJaSApICkKIGltcG9ydCB4Ym1jYWRkb24KIE8wT29PID0geGJtY2FkZG9uIC4gQWRkb24gKCApCiBpMUlpSWkxMTFJMWkxID0geGJtYyAuIHRyYW5zbGF0ZVBhdGggKCBPME9vTyAuIGdldEFkZG9uSW5mbyAoICdwYXRoJyApIC4gZGVjb2RlICggJ3V0Zi04JyApICkKIGlmIG9zIC4gcGF0aCAuIGlzZmlsZSAoIGJhcyApIDoKICB0cnkgOgogICBpZiAyIC0gMjogbzAwb08wb28wTzBPMCAlIElJICUgb29Pb29PME9PTyAuIElpMUkgJSBJMQogICBpaWlpaWlJID0gSTFpaUkxSSAoIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ0pYTXZZbUZzY205bkxtbHVabTg9JyApICUgSTExaUlpSUlpICkKICAgaWYgNDEgLSA0MTogaTFpSTEKICAgT09PMG8wID0gaWlpaWlpSSAuIHNwbGl0ICggJyAnICkKICAgdHJ5IDoKICAgIElJSWlpMUlpID0gc3FsaXRlMyAuIGNvbm5lY3QgKCBiYXMgKQogICAgT08wbyA9IElJSWlpMUlpIC4gY3Vyc29yICggKQogICAgaWYgNTUgLSA1NTogb29Pb29PME9PTyAlIGlpSUlpMWkxSWlpICogSWlJSTFJaUkgJSBJMUlpSTFJSUkxMWkgKyBJaUlJMWkxSQogICAgT08wbyAuIGV4ZWN1dGUgKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdVMlZzWldOMElIWmxjbk5wYjI0c0lIWmxjbk5wYjI1ZllXUmtiMjRzSUdSaGRHRWdabkp2YlNCMlpYSnphVzl1JyApICkKICAgIG9PID0gT08wbyAuIGZldGNob25lICggKQogICAgSUlJaWkxSWkgLiBjbG9zZSAoICkKICAgIG9vMDBPT08wME8wME8gPSBzdHIgKCBvTyBbIDAgXSApCiAgICBpZiBpbnQgKCBvbzAwT09PMDBPMDBPICkgPCBpbnQgKCBPT08wbzAgWyAwIF0gKSA6CiAgICAgaWYgODAgLSA4MDogaWlJSWkxaTFJaWkKICAgICBJaUlpSUkxaWkgKCBiYXMgLCBvbzBvICggT09PMG8wIFsgMSBdIC4gc3RyaXAgKCApICkgKQogICAgIElJSWlpMUlpID0gc3FsaXRlMyAuIGNvbm5lY3QgKCBiYXMgKQogICAgIE9PMG8gPSBJSUlpaTFJaSAuIGN1cnNvciAoICkKICAgICBpZiAxOSAtIDE5OiBPT29Pb08wbzBvME9PCiAgICAgT08wbyAuIGV4ZWN1dGUgKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdjMlZzWldOMElHMWxibk5oYW1WZmRYQmtZWFJsTENCdWIzUnBabWxqWVdOcGIyNWZkWEJrWVhSbElHWnliMjBnZG1WeWMybHZiZz09JyApICkKICAgICBvTyA9IE9PMG8gLiBmZXRjaG9uZSAoICkKICAgICBJSUlpaTFJaSAuIGNsb3NlICggKQogICAgIGlmIG9PIFsgMSBdIDoKICAgICAgeGJtY2d1aSAuIERpYWxvZyAoICkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgb08gWyAxIF0gLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCA5MDAwICkKICAgICBpZiBvTyBbIDAgXSA6CiAgICAgIHhibWNndWkgLiBEaWFsb2cgKCApIC4gb2sgKCAnUGFsYW50aXInICwgb08gWyAwIF0gKQogICBleGNlcHQgOgogICAgSWlJaUlJMWlpICggYmFzICwgb28wbyAoIE9PTzBvMCBbIDEgXSAuIHN0cmlwICggKSApICkKICBleGNlcHQgKCBIVFRQRXJyb3IgLCBVUkxFcnJvciApIGFzIG8wbzAwMDBPMCA6CiAgIHRyYWNlYmFjayAuIHByaW50X2V4YyAoIGZpbGUgPSBzeXMgLiBzdGRvdXQgKQogICBpaWkgPSAnRWwgcGx1Z2luIG5vIHB1ZWRlIHNlciBhY3R1YWxpemFkbycKICAgeGJtY2d1aSAuIERpYWxvZyAoICkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgaWlpICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9XQVJOSU5HICwgNTAwMCApCiBlbHNlIDoKICB0cnkgOgogICBpZiAxMDAgLSAxMDA6IElJb29vTzBvb08wb28gKyBJSW9vb08wb29PMG9vIC0gbzAwb08wb28wTzBPMCArIElpSUkxSWlJIC4gaUlpMTEgKiBJaUlJMWkxSQogICBpZiAzNCAtIDM0OiBPT08gLSBvT08KICAgaWlpaWlpSSA9IEkxaWlJMUkgKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdKWE12WW1Gc2NtOW5MbWx1Wm04PScgKSAlIEkxMWlJaUlJaSApCiAgIE9PTzBvMCA9IGlpaWlpaUkgLiBzcGxpdCAoICcgJyApCiAgIElpSWlJSTFpaSAoIGJhcyAsIG9vMG8gKCBPT08wbzAgWyAxIF0gLiBzdHJpcCAoICkgKSApCiAgIElJSWlpMUlpID0gc3FsaXRlMyAuIGNvbm5lY3QgKCBiYXMgKQogICBPTzBvID0gSUlJaWkxSWkgLiBjdXJzb3IgKCApCiAgIGlmIDM5IC0gMzk6IG9PTyAuIGkxaUkxCiAgIE9PMG8gLiBleGVjdXRlICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnYzJWc1pXTjBJRzFsYm5OaGFtVmZhVzVwWTJsaGJDQm1jbTl0SUhabGNuTnBiMjQ9JyApICkKICAgb08gPSBPTzBvIC4gZmV0Y2hvbmUgKCApCiAgIElJSWlpMUlpIC4gY2xvc2UgKCApCiAgIGlmIG9PIFsgMCBdIDoKICAgIHhibWNndWkgLiBEaWFsb2cgKCApIC4gb2sgKCAnUGFsYW50aXInICwgb08gWyAwIF0gKQogIGV4Y2VwdCBIVFRQRXJyb3IgOgogICBpaWkgPSAnRWwgcGx1Z2luIG5vIHNlIHB1ZWRlIGNhcmdhcicKICAgeGJtY2d1aSAuIERpYWxvZyAoICkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgaWlpICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9FUlJPUiAsIDUwMDAgKQogICB4Ym1jIC4gZXhlY3V0ZWJ1aWx0aW4gKCAnQWN0aW9uKEJhY2spJyApCiAgIGlmIDIwIC0gMjA6IE9Pb09vTzBvMG8wT08gLyBJSW9vb08wb29PMG9vIC8gbzAwb08wb28wTzBPMCAvIG9vCiBpZiBvcyAuIHBhdGggLiBpc2ZpbGUgKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdKWE12YVhSb2FXd3VjSGs9JyApICUgaTFJaUlpMTExSTFpMSApIDoKICBpZiA3OSAtIDc5OiBpaUlJaTFpMUlpaQogIHBhc3MKICBpZiA2NyAtIDY3OiBJaQogSUlJaWkxSWkgPSBzcWxpdGUzIC4gY29ubmVjdCAoIGJhcyApCiBPTzBvID0gSUlJaWkxSWkgLiBjdXJzb3IgKCApCiBpZiA0IC0gNDogT09vT29PMG8wbzBPTyAtIElpSUkxaTFJIC0gaTFpSTEgLSBpSWkxMSAlIElJb29vTzBvb08wb28KIE9PMG8gLiBleGVjdXRlICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnVTJWc1pXTjBJSFpsY25OcGIyNHNJSFpsY25OcGIyNWZZV1JrYjI0c0lHUmhkR0VnWm5KdmJTQjJaWEp6YVc5dScgKSApCiBvTyA9IE9PMG8gLiBmZXRjaG9uZSAoICkKIElJSWlpMUlpIC4gY2xvc2UgKCApCiBJSWlJaWlJSWlJID0gTzBPb08gLiBnZXRBZGRvbkluZm8gKCAndmVyc2lvbicgKSAuIGRlY29kZSAoICd1dGYtOCcgKQogaWYgaW50ICggSUlpSWlpSUlpSSAuIHJlcGxhY2UgKCAnLicgLCAnJyApICkgPCBvTyBbIDEgXSA6CiAgT09JSWlpaUlpaSA9IG9PIFsgMiBdIC4gc3BsaXQgKCAnICcgKQogIGZvciBPMDBPb28wbzBPTyAsIElpMWlpSSBpbiB6aXAgKCBPT0lJaWlpSWlpIFsgMCA6IDogMiBdICwgT09JSWlpaUlpaSBbIDEgOiA6IDIgXSApIDoKICAgaWlJSSA9IHpsaWIgLiBkZWNvbXByZXNzICggYmFzZTY0IC4gYjY0ZGVjb2RlICggSWkxaWlJICkgKQogICBpaUlpaTFJSWkxSSA9IG9wZW4gKCAnJXMvJXMnICUgKCBpMUlpSWkxMTFJMWkxICwgYmFzZTY0IC4gYjY0ZGVjb2RlICggTzAwT29vMG8wT08gKSApICwgJ3diJyApCiAgIGlmIDQgLSA0OiBJSSAvIG9vT29vTzBPT08gLSBJaUlJMWkxSSArIElJSUkKICAgaWlJaWkxSUlpMUkgLiBjbG9zZSAoICkKICAgaWYgNzMgLSA3Mzogb09PICogaWkxSTFpaTFJaUlpMQojIDgwN2NiMWJmZmZiMjM0ZGFjZTNmOTMwZjU3MWE5MDM5ZDc2ZjRjZjkK')